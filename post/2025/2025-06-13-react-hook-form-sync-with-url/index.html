<!DOCTYPE html>
<html lang="ko-KR"><head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Gyuha blog 'Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• ğŸš€'" />
  <title>Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• ğŸš€  | ì‹ ê·œí•˜ ë¸”ë¡œê·¸</title>
  <meta property="og:title" content="Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• ğŸš€" />
  
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-06-13"> 
  <meta property="og:url" content="https://gyuha.com/post/2025/2025-06-13-react-hook-form-sync-with-url/" />
  <meta property="og:site_name" content="ì‹ ê·œí•˜ ë¸”ë¡œê·¸" />
   <meta property="og:image" content="https://gyuha.com/images/thumbnail.png">  
  <meta property="og:tags" content="next.js" />
  
  <meta property="og:tags" content="react-hook-form" />
  
  <meta property="og:tags" content="typescript" />
  

  
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  
  <link rel="stylesheet" href="/vendor/bootstrap/bootstrap.min.css" /> <link rel="stylesheet" href="/vendor/magnific-popup/magnific-popup.css" /> <link rel="stylesheet" href="/vendor/wow/animate.css" /> <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
<header class="header-area">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="navbar navbar-expand-lg">
          
          <a class="navbar-brand" href='/'>
            <img src="/img/logo-title.png" alt="Logo" />
          </a>
          
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse" id="nav">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href='/'>ë¸”ë¡œê·¸</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/categories'>ì¹´í…Œê³ ë¦¬</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/tags'>íƒœê·¸</a>
              </li>
            </ul>
            
            <div id="search-wrapper">
              <form action="https://google.com/search">
                <input type="search" placeholder='ê²€ìƒ‰ì–´' name="q" class="search">
                <i class="fa fa-search"></i>
                <input type="hidden" name="sitesearch" value="https://gyuha.com/" />
              </form>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
</header>

<div class="top-area">
  <div class="top-video top-video-small ">
    <div id="waves" class="video"></div>
    <div class="container">
      <div class="title-message">
        
        <a href="https://gyuha.com/post/2025/2025-06-13-react-hook-form-sync-with-url/">
          <h1>
            Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• ğŸš€
          </h1>
        </a>
        
      </div>
    </div>
  </div>
</div>
<div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-8">

<div class="post-title">
  <a href="https://gyuha.com/post/2025/2025-06-13-react-hook-form-sync-with-url/">
    <div class="post-meta">
      <time></time>
    </div>
  </a>
</div>
<section class="post-content">
  
  <p>ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Next.js í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìì‘ ì»¤ìŠ¤í…€ í›…, <code>useFormUrlSync</code>ì— ëŒ€í•´ ì´ì•¼ê¸°í•˜ê³ ì í•©ë‹ˆë‹¤.</p>
<p>ê²€ìƒ‰ í•„í„°ë‚˜ ì •ë ¬ ê¸°ëŠ¥ì´ ìˆëŠ” í˜ì´ì§€ë¥¼ ê°œë°œí•  ë•Œ ì´ëŸ¬í•œ ê²½í—˜ì´ ìˆìœ¼ì‹¤ ê²ë‹ˆë‹¤. ì‚¬ìš©ìê°€ í•„í„° ê°’ì„ ì„¤ì •í•˜ê³  ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì—ì„œ íŠ¹ì • ì•„ì´í…œì„ í´ë¦­í–ˆë‹¤ê°€ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ì„¤ì •í–ˆë˜ í•„í„° ê°’ë“¤ì´ ì „ë¶€ ì´ˆê¸°í™”ë˜ëŠ” ìƒí™© ë§ì…ë‹ˆë‹¤. ì‚¬ìš©ì ì…ì¥ì—ì„œëŠ” ë§¤ìš° ë¶ˆí¸í•œ ìˆœê°„ì´ ì•„ë‹ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>
<p>ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì€ í¼(Form)ì˜ ìƒíƒœë¥¼ URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°(Query Parameter)ì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ ì„¤ì •í•œ í•„í„° ê°’ì´ URLì— ê·¸ëŒ€ë¡œ ë‚¨ì•„, í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ë§í¬ë¥¼ ê³µìœ í•´ë„ ë™ì¼í•œ ìƒíƒœê°€ ìœ ì§€ë©ë‹ˆë‹¤.</p>
<p>ì´ë²ˆ ê¸€ì—ì„œëŠ” ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” <code>useFormUrlSync</code> ì»¤ìŠ¤í…€ í›…ì„ ë§Œë“¤ê³ , ì‚¬ìš©ë²•ì„ ìì„¸íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h2 id="ì™œ-urlê³¼ì˜-ë™ê¸°í™”ê°€-í•„ìš”í•©ë‹ˆê¹Œ-">ì™œ URLê³¼ì˜ ë™ê¸°í™”ê°€ í•„ìš”í•©ë‹ˆê¹Œ? ğŸ¤”</h2>
<p>ë³¸ê²©ì ìœ¼ë¡œ ì½”ë“œë¥¼ ì‚´í´ë³´ê¸° ì „ì—, ì™œ í¼ ìƒíƒœë¥¼ URLê³¼ ë™ê¸°í™”í•´ì•¼ í•˜ëŠ”ì§€ ì§šê³  ë„˜ì–´ê°ˆ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<ul>
<li><strong>í–¥ìƒëœ ì‚¬ìš©ì ê²½í—˜ (UX)</strong>: ì‚¬ìš©ìê°€ ë’¤ë¡œ ê°€ê¸°/ì•ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ì‚¬ìš©í•´ë„ í•„í„°ë§ëœ ìƒíƒœê°€ ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.</li>
<li><strong>ê³µìœ  ê°€ëŠ¥í•œ ë§í¬</strong>: í•„í„°ë‚˜ ê²€ìƒ‰ ì¡°ê±´ì´ í¬í•¨ëœ URLì„ ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ê·¸ëŒ€ë¡œ ê³µìœ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li><strong>ë¶ë§ˆí¬ ê°€ëŠ¥</strong>: ì‚¬ìš©ìëŠ” íŠ¹ì • ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¥¼ ë¶ë§ˆí¬í•˜ê³  ë‚˜ì¤‘ì— ë‹¤ì‹œ ë°©ë¬¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p>ì´ ëª¨ë“  ê²ƒì´ ì‚¬ì†Œí•´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì˜ ë§Œë“¤ì–´ì§„ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë””í…Œì¼ì„ ê²°ì •í•˜ëŠ” ì¤‘ìš”í•œ ìš”ì†Œì…ë‹ˆë‹¤.</p>
<h2 id="useformurlsync-ì „ì²´-ì½”ë“œ-í›‘ì–´ë³´ê¸°-"><code>useFormUrlSync</code> ì „ì²´ ì½”ë“œ í›‘ì–´ë³´ê¸° ğŸ§</h2>
<p>ë¨¼ì € ìš°ë¦¬ê°€ ë§Œë“¤ ì»¤ìŠ¤í…€ í›…ì˜ ì „ì²´ ì½”ë“œë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. Next.js(App Router ê¸°ì¤€) í™˜ê²½ê³¼ <code>react-hook-form</code> ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œë‹¤ëŠ” ì ì„ ì°¸ê³ í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#cf222e">type</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">AliasAny</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;@/types/alias.types&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">isNumber</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;es-toolkit/compat&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">useRouter</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">useSearchParams</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;next/navigation&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">useCallback</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">useEffect</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">useRef</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;react&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#1f2328">{</span> <span style="color:#cf222e">type</span> <span style="color:#1f2328">DefaultValues</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">type</span> <span style="color:#1f2328">FieldValues</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">type</span> <span style="color:#1f2328">UseFormProps</span><span style="color:#1f2328">,</span> <span style="color:#cf222e">type</span> <span style="color:#1f2328">UseFormReturn</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">useForm</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;react-hook-form&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * useFormUrlSync í›…ì˜ ì˜µì…˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">type</span> <span style="color:#1f2328">UseFormUrlSyncOptions</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span> <span style="color:#1f2328">extends</span> <span style="color:#1f2328">FieldValues</span><span style="color:#1f2328">&gt;</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">Omit</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">UseFormProps</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;,</span> <span style="color:#0a3069">&#34;defaultValues&#34;</span><span style="color:#1f2328">&gt;</span> <span style="color:#0550ae">&amp;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">/** URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤ */</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">excludeFromUrl</span><span style="color:#0550ae">?:</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">)[];</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">/** URL ë³€ê²½ ì‹œ replace ì‚¬ìš© ì—¬ë¶€ (ê¸°ë³¸ê°’: true) */</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">replace?</span>: <span style="color:#cf222e">boolean</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">/** í¼ì˜ ê¸°ë³¸ê°’ë“¤ */</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">defaultValues</span>: <span style="color:#cf222e">DefaultValues</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * URL íŒŒë¼ë¯¸í„° ê°’ì„ ì ì ˆí•œ íƒ€ì…ìœ¼ë¡œ íŒŒì‹±í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param value - íŒŒì‹±í•  ë¬¸ìì—´ ê°’
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @returns íŒŒì‹±ëœ ê°’ (string | number | boolean)
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">function</span> <span style="color:#1f2328">parseUrlValue</span><span style="color:#1f2328">(</span><span style="color:#1f2328">value</span>: <span style="color:#cf222e">string</span><span style="color:#1f2328">)</span><span style="color:#0550ae">:</span> <span style="color:#cf222e">string</span> <span style="color:#0550ae">|</span> <span style="color:#cf222e">number</span> <span style="color:#0550ae">|</span> <span style="color:#cf222e">boolean</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">value</span> <span style="color:#0550ae">===</span> <span style="color:#0a3069">&#34;&#34;</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">return</span> <span style="color:#1f2328">value</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">value</span> <span style="color:#0550ae">===</span> <span style="color:#0a3069">&#34;true&#34;</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">return</span> <span style="color:#cf222e">true</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">value</span> <span style="color:#0550ae">===</span> <span style="color:#0a3069">&#34;false&#34;</span><span style="color:#1f2328">)</span> <span style="color:#cf222e">return</span> <span style="color:#cf222e">false</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">numValue</span> <span style="color:#0550ae">=</span> <span style="color:#6639ba">Number</span><span style="color:#1f2328">(</span><span style="color:#1f2328">value</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">isNumber</span><span style="color:#1f2328">(</span><span style="color:#1f2328">numValue</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">&amp;&amp;</span> <span style="color:#0550ae">!</span><span style="color:#6639ba">Number</span><span style="color:#1f2328">.</span><span style="color:#6639ba">isNaN</span><span style="color:#1f2328">(</span><span style="color:#1f2328">numValue</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#1f2328">numValue</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">value</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ì—ì„œ ì´ˆê¸°ê°’ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param searchParams - URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param excludeFromUrl - URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @returns URLì—ì„œ ì¶”ì¶œí•œ ì´ˆê¸°ê°’ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">function</span> <span style="color:#1f2328">extractInitialValuesFromUrl</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span> <span style="color:#1f2328">extends</span> <span style="color:#1f2328">FieldValues</span><span style="color:#1f2328">&gt;(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">searchParams</span>: <span style="color:#cf222e">URLSearchParams</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">excludeFromUrl</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">)[],</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">)</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">Partial</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">urlValues</span>: <span style="color:#cf222e">Partial</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">{};</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">for</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">key</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">value</span><span style="color:#1f2328">]</span> <span style="color:#cf222e">of</span> <span style="color:#1f2328">searchParams</span><span style="color:#1f2328">.</span><span style="color:#1f2328">entries</span><span style="color:#1f2328">())</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#0550ae">!</span><span style="color:#1f2328">excludeFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">includes</span><span style="color:#1f2328">(</span><span style="color:#1f2328">key</span> <span style="color:#cf222e">as</span> <span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">(</span><span style="color:#1f2328">urlValues</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">AliasAny</span><span style="color:#1f2328">)[</span><span style="color:#1f2328">key</span><span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">parseUrlValue</span><span style="color:#1f2328">(</span><span style="color:#1f2328">value</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">urlValues</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * í¼ ê°’ë“¤ë¡œë¶€í„° URL íŒŒë¼ë¯¸í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param values - í¼ ê°’ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param currentParams - í˜„ì¬ URL íŒŒë¼ë¯¸í„°
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param excludeFromUrl - URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @returns ìƒˆë¡œìš´ URLSearchParams ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">function</span> <span style="color:#1f2328">createUrlParamsFromValues</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span> <span style="color:#1f2328">extends</span> <span style="color:#1f2328">FieldValues</span><span style="color:#1f2328">&gt;(</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">values</span>: <span style="color:#cf222e">T</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">currentParams</span>: <span style="color:#cf222e">URLSearchParams</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">excludeFromUrl</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">)[],</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">)</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">URLSearchParams</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">params</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">new</span> <span style="color:#1f2328">URLSearchParams</span><span style="color:#1f2328">(</span><span style="color:#1f2328">currentParams</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">for</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">key</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">value</span><span style="color:#1f2328">]</span> <span style="color:#cf222e">of</span> <span style="color:#6639ba">Object</span><span style="color:#1f2328">.</span><span style="color:#1f2328">entries</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">excludeFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">includes</span><span style="color:#1f2328">(</span><span style="color:#1f2328">key</span> <span style="color:#cf222e">as</span> <span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">continue</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">value</span> <span style="color:#0550ae">!==</span> <span style="color:#cf222e">undefined</span> <span style="color:#0550ae">&amp;&amp;</span> <span style="color:#1f2328">value</span> <span style="color:#0550ae">!==</span> <span style="color:#cf222e">null</span> <span style="color:#0550ae">&amp;&amp;</span> <span style="color:#1f2328">value</span> <span style="color:#0550ae">!==</span> <span style="color:#0a3069">&#34;&#34;</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">params</span><span style="color:#1f2328">.</span><span style="color:#cf222e">set</span><span style="color:#1f2328">(</span><span style="color:#1f2328">key</span><span style="color:#1f2328">,</span> <span style="color:#6639ba">String</span><span style="color:#1f2328">(</span><span style="color:#1f2328">value</span><span style="color:#1f2328">));</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span> <span style="color:#cf222e">else</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">params</span><span style="color:#1f2328">.</span><span style="color:#cf222e">delete</span><span style="color:#1f2328">(</span><span style="color:#1f2328">key</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">params</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * ë‘ ê°ì²´ì˜ ê¹Šì€ ë¹„êµë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param obj1 - ë¹„êµí•  ì²« ë²ˆì§¸ ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param obj2 - ë¹„êµí•  ë‘ ë²ˆì§¸ ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @returns ê°ì²´ë“¤ì´ ë™ì¼í•œì§€ ì—¬ë¶€
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">function</span> <span style="color:#1f2328">deepEqual</span><span style="color:#1f2328">(</span><span style="color:#1f2328">obj1</span>: <span style="color:#cf222e">AliasAny</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">obj2</span>: <span style="color:#cf222e">AliasAny</span><span style="color:#1f2328">)</span><span style="color:#0550ae">:</span> <span style="color:#cf222e">boolean</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">JSON</span><span style="color:#1f2328">.</span><span style="color:#1f2328">stringify</span><span style="color:#1f2328">(</span><span style="color:#1f2328">obj1</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">===</span> <span style="color:#1f2328">JSON</span><span style="color:#1f2328">.</span><span style="color:#1f2328">stringify</span><span style="color:#1f2328">(</span><span style="color:#1f2328">obj2</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#57606a">/**
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * React Hook Formê³¼ URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ë¥¼ ì–‘ë°©í–¥ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> *
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…, FieldValuesë¥¼ í™•ì¥í•´ì•¼ í•¨
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @param options - í›… ì„¤ì • ì˜µì…˜
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @returns React Hook Formì˜ UseFormReturn ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> *
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * @remarks
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * URL íŒŒë¼ë¯¸í„°ëŠ” ìë™ìœ¼ë¡œ ì ì ˆí•œ íƒ€ì…(string, number, boolean)ìœ¼ë¡œ íŒŒì‹±ë©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * ë¹ˆ ë¬¸ìì—´, null, undefined ê°’ì€ URLì—ì„œ ì œê±°ë©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> * Next.jsì˜ useRouterì™€ useSearchParamsë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ Next.js í™˜ê²½ì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#57606a"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">export</span> <span style="color:#cf222e">function</span> <span style="color:#1f2328">useFormUrlSync</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span> <span style="color:#1f2328">extends</span> <span style="color:#1f2328">FieldValues</span><span style="color:#1f2328">&gt;(</span><span style="color:#1f2328">options</span>: <span style="color:#cf222e">UseFormUrlSyncOptions</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;)</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">UseFormReturn</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">router</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useRouter</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">searchParams</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useSearchParams</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">excludeFromUrl</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">[],</span> <span style="color:#1f2328">replace</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">true</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">defaultValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">...</span><span style="color:#1f2328">formOptions</span> <span style="color:#1f2328">}</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">options</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">isUpdatingFromUrl</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useRef</span><span style="color:#1f2328">(</span><span style="color:#cf222e">false</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">getUrlValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useCallback</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#1f2328">extractInitialValuesFromUrl</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;(</span><span style="color:#1f2328">searchParams</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">excludeFromUrl</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">)[]);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">},</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">searchParams</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">excludeFromUrl</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">initialValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">...</span><span style="color:#1f2328">defaultValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">...</span><span style="color:#1f2328">getUrlValues</span><span style="color:#1f2328">(),</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">}</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">DefaultValues</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">form</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useForm</span><span style="color:#1f2328">({</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">...</span><span style="color:#1f2328">formOptions</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">defaultValues</span>: <span style="color:#cf222e">initialValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">watch</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">reset</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">getValues</span> <span style="color:#1f2328">}</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">form</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">updateUrl</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useCallback</span><span style="color:#1f2328">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">(</span><span style="color:#1f2328">values</span>: <span style="color:#cf222e">T</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">const</span> <span style="color:#1f2328">params</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">createUrlParamsFromValues</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">searchParams</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">excludeFromUrl</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">)[]);</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">const</span> <span style="color:#1f2328">newSearchString</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">params</span><span style="color:#1f2328">.</span><span style="color:#1f2328">toString</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">const</span> <span style="color:#1f2328">currentSearchString</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">new</span> <span style="color:#1f2328">URLSearchParams</span><span style="color:#1f2328">(</span><span style="color:#6639ba">window</span><span style="color:#1f2328">.</span><span style="color:#1f2328">location</span><span style="color:#1f2328">.</span><span style="color:#1f2328">search</span><span style="color:#1f2328">).</span><span style="color:#1f2328">toString</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">newSearchString</span> <span style="color:#0550ae">!==</span> <span style="color:#1f2328">currentSearchString</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">const</span> <span style="color:#1f2328">newUrl</span> <span style="color:#0550ae">=</span> <span style="color:#0a3069">`</span><span style="color:#0a3069">${</span><span style="color:#6639ba">window</span><span style="color:#1f2328">.</span><span style="color:#1f2328">location</span><span style="color:#1f2328">.</span><span style="color:#1f2328">pathname</span><span style="color:#0a3069">}</span><span style="color:#0a3069">?</span><span style="color:#0a3069">${</span><span style="color:#1f2328">newSearchString</span><span style="color:#0a3069">}</span><span style="color:#0a3069">`</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">replace</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#1f2328">router</span><span style="color:#1f2328">.</span><span style="color:#1f2328">replace</span><span style="color:#1f2328">(</span><span style="color:#1f2328">newUrl</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">scroll</span>: <span style="color:#cf222e">false</span> <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}</span> <span style="color:#cf222e">else</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#1f2328">router</span><span style="color:#1f2328">.</span><span style="color:#1f2328">push</span><span style="color:#1f2328">(</span><span style="color:#1f2328">newUrl</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">scroll</span>: <span style="color:#cf222e">false</span> <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">[</span><span style="color:#1f2328">router</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">searchParams</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">excludeFromUrl</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">replace</span><span style="color:#1f2328">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">useEffect</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">subscription</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">watch</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">updateUrl</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#1f2328">()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">subscription</span><span style="color:#1f2328">.</span><span style="color:#1f2328">unsubscribe</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">},</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">watch</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">updateUrl</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">useEffect</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">urlValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">getUrlValues</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">currentFormValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">getValues</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">relevantFormValues</span>: <span style="color:#cf222e">Partial</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">{};</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">for</span> <span style="color:#1f2328">(</span><span style="color:#cf222e">const</span> <span style="color:#1f2328">key</span> <span style="color:#cf222e">in</span> <span style="color:#1f2328">urlValues</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#6639ba">Object</span><span style="color:#1f2328">.</span><span style="color:#1f2328">prototype</span><span style="color:#1f2328">.</span><span style="color:#1f2328">hasOwnProperty</span><span style="color:#1f2328">.</span><span style="color:#1f2328">call</span><span style="color:#1f2328">(</span><span style="color:#1f2328">urlValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">key</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">relevantFormValues</span><span style="color:#1f2328">[</span><span style="color:#1f2328">key</span> <span style="color:#cf222e">as</span> <span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">]</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">currentFormValues</span><span style="color:#1f2328">[</span><span style="color:#1f2328">key</span> <span style="color:#cf222e">as</span> <span style="color:#cf222e">keyof</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">];</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#0550ae">!</span><span style="color:#1f2328">deepEqual</span><span style="color:#1f2328">(</span><span style="color:#1f2328">urlValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">relevantFormValues</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">true</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">reset</span><span style="color:#1f2328">({</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">...</span><span style="color:#1f2328">currentFormValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">...</span><span style="color:#1f2328">urlValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">DefaultValues</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">setTimeout</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">false</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">},</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">},</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">getUrlValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">reset</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">getValues</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">form</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>ì½”ë“œê°€ ë‹¤ì†Œ ê¸¸ì–´ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, í•µì‹¬ ë¡œì§ì€ ê°„ë‹¨í•©ë‹ˆë‹¤. ì´ì œë¶€í„° í•˜ë‚˜ì”© ë¶„ì„í•´ ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h2 id="í•µì‹¬-ë¡œì§-íŒŒí—¤ì¹˜ê¸°-">í•µì‹¬ ë¡œì§ íŒŒí—¤ì¹˜ê¸° ğŸ’¡</h2>
<p>ì´ í›…ì€ <strong>ì–‘ë°©í–¥ ë™ê¸°í™”</strong>ë¥¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ í•µì‹¬ì…ë‹ˆë‹¤.</p>
<ol>
<li><strong>í¼ ìƒíƒœ ë³€ê²½</strong> â†’ <strong>URL ì—…ë°ì´íŠ¸</strong></li>
<li><strong>URL ë³€ê²½</strong> (ì˜ˆ: ë’¤ë¡œ ê°€ê¸°) â†’ <strong>í¼ ìƒíƒœ ì—…ë°ì´íŠ¸</strong></li>
</ol>
<p>ì´ ë‘ ê°€ì§€ íë¦„ì´ ì–´ë–»ê²Œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<h3 id="1-í¼-ë³€ê²½--url-ì—…ë°ì´íŠ¸">1. í¼ ë³€ê²½ â†’ URL ì—…ë°ì´íŠ¸</h3>
<p>ì´ ë¶€ë¶„ì€ <code>react-hook-form</code>ì˜ <code>watch</code> í•¨ìˆ˜ì™€ <code>useEffect</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>  <span style="color:#57606a">// ...
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">useEffect</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">subscription</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">watch</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#57606a">// isUpdatingFromUrl í”Œë˜ê·¸ì— ëŒ€í•´ì„œëŠ” ì ì‹œ í›„ì— ì„¤ëª…í•˜ê² ìŠµë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span>      <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span><span style="color:#1f2328">)</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#cf222e">return</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">updateUrl</span><span style="color:#1f2328">(</span><span style="color:#1f2328">values</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">T</span><span style="color:#1f2328">);</span> <span style="color:#57606a">// í¼ ê°’ì´ ë³€ê²½ë˜ë©´ URLì„ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜ í˜¸ì¶œ
</span></span></span><span style="display:flex;"><span>    <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">return</span> <span style="color:#1f2328">()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">subscription</span><span style="color:#1f2328">.</span><span style="color:#1f2328">unsubscribe</span><span style="color:#1f2328">();</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">},</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">watch</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">updateUrl</span><span style="color:#1f2328">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#57606a">// ...
</span></span></span></code></pre></div><p><code>watch</code>ëŠ” í¼ì˜ ëª¨ë“  ê°’ ë³€ê²½ì„ ê°ì§€í•˜ëŠ” êµ¬ë…(subscription)ì„ ìƒì„±í•©ë‹ˆë‹¤. ê°’ì´ ë°”ë€” ë•Œë§ˆë‹¤ <code>updateUrl</code> í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ë³€ê²½ëœ ê°’ì„ URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.</p>
<h3 id="2-url-ë³€ê²½--í¼-ìƒíƒœ-ì—…ë°ì´íŠ¸">2. URL ë³€ê²½ â†’ í¼ ìƒíƒœ ì—…ë°ì´íŠ¸</h3>
<p>ì´ê²ƒì€ ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì €ì˜ ë’¤ë¡œ ê°€ê¸°/ì•ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œë¥¼ ìœ„í•œ ê¸°ëŠ¥ì…ë‹ˆë‹¤. <code>useSearchParams</code> í›…ì´ URLì˜ ë³€ê²½ì„ ê°ì§€í•˜ë©´, <code>useEffect</code>ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span>  <span style="color:#57606a">// ...
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">useEffect</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">urlValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">getUrlValues</span><span style="color:#1f2328">();</span> <span style="color:#57606a">// URLì—ì„œ í˜„ì¬ í¼ ê´€ë ¨ ê°’ë“¤ì„ ê°€ì ¸ì˜´
</span></span></span><span style="display:flex;"><span>    <span style="color:#cf222e">const</span> <span style="color:#1f2328">currentFormValues</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">getValues</span><span style="color:#1f2328">();</span> <span style="color:#57606a">// react-hook-formì˜ í˜„ì¬ ê°’ë“¤ì„ ê°€ì ¸ì˜´
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// ... (ë¹„êµ ë¡œì§) ...
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// URLì˜ ê°’ê³¼ í¼ì˜ ê°’ì´ ë‹¤ë¥¼ ê²½ìš°
</span></span></span><span style="display:flex;"><span>    <span style="color:#cf222e">if</span> <span style="color:#1f2328">(</span><span style="color:#0550ae">!</span><span style="color:#1f2328">deepEqual</span><span style="color:#1f2328">(</span><span style="color:#1f2328">urlValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">relevantFormValues</span><span style="color:#1f2328">))</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">true</span><span style="color:#1f2328">;</span> <span style="color:#57606a">// ë¬´í•œ ë£¨í”„ ë°©ì§€ í”Œë˜ê·¸ ON
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#57606a">// URL ê°’ìœ¼ë¡œ í¼ ìƒíƒœë¥¼ ë¦¬ì…‹(ì—…ë°ì´íŠ¸)
</span></span></span><span style="display:flex;"><span>      <span style="color:#1f2328">reset</span><span style="color:#1f2328">({</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">...</span><span style="color:#1f2328">currentFormValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">...</span><span style="color:#1f2328">urlValues</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">}</span> <span style="color:#cf222e">as</span> <span style="color:#1f2328">DefaultValues</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">T</span><span style="color:#1f2328">&gt;);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#57606a">// ì•„ì£¼ ì ê¹ì˜ ë”œë ˆì´ í›„ í”Œë˜ê·¸ OFF
</span></span></span><span style="display:flex;"><span>      <span style="color:#1f2328">setTimeout</span><span style="color:#1f2328">(()</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">isUpdatingFromUrl</span><span style="color:#1f2328">.</span><span style="color:#1f2328">current</span> <span style="color:#0550ae">=</span> <span style="color:#cf222e">false</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">},</span> <span style="color:#0550ae">0</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">},</span> <span style="color:#1f2328">[</span><span style="color:#1f2328">getUrlValues</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">reset</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">getValues</span><span style="color:#1f2328">]);</span> <span style="color:#57606a">// URLì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
</span></span></span></code></pre></div><p>URLì´ ë°”ë€Œë©´ <code>searchParams</code> ê°ì²´ê°€ ë³€ê²½ë˜ê³ , ì´ë¥¼ ì˜ì¡´í•˜ëŠ” <code>getUrlValues</code>ê°€ ìƒˆë¡œìš´ ê°’ì„ ë°˜í™˜í•˜ë©´ì„œ ì´ <code>useEffect</code>ê°€ ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  URLì—ì„œ ê°€ì ¸ì˜¨ ê°’(<code>urlValues</code>)ê³¼ í˜„ì¬ í¼ì˜ ê°’(<code>currentFormValues</code>)ì„ ë¹„êµí•´ì„œ, ë‹¤ë¥´ë‹¤ë©´ <code>form.reset</code>ì„ í˜¸ì¶œí•˜ì—¬ í¼ì„ ì—…ë°ì´íŠ¸í•´ì¤ë‹ˆë‹¤.</p>
<h3 id="3-ë¬´í•œ-ë£¨í”„-ë°©ì§€-isupdatingfromurl-">3. ë¬´í•œ ë£¨í”„ ë°©ì§€: <code>isUpdatingFromUrl</code> âš ï¸</h3>
<p>ì—¬ê¸°ì„œ ë§¤ìš° ì¤‘ìš”í•œ ë¶€ë¶„ì€ ë°”ë¡œ <code>isUpdatingFromUrl</code>ì´ë¼ëŠ” <code>useRef</code> ê°’ì…ë‹ˆë‹¤. ì´ê²ƒì´ ì™œ í•„ìš”í•©ë‹ˆê¹Œ?</p>
<p>ë§Œì•½ ì´ í”Œë˜ê·¸ê°€ ì—†ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ <strong>ë¬´í•œ ë£¨í”„</strong>ì— ë¹ ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<ol>
<li>URL ë³€ê²½ â†’ <code>useEffect</code> ì‹¤í–‰ â†’ <code>form.reset()</code> í˜¸ì¶œ (í¼ ì—…ë°ì´íŠ¸)</li>
<li>í¼ ì—…ë°ì´íŠ¸ â†’ <code>watch</code> ê°ì§€ â†’ <code>updateUrl()</code> í˜¸ì¶œ (URL ì—…ë°ì´íŠ¸)</li>
<li>URL ì—…ë°ì´íŠ¸ â†’ <code>useEffect</code> ì‹¤í–‰ â†’ <code>form.reset()</code> í˜¸ì¶œ (í¼ ì—…ë°ì´íŠ¸)</li>
<li>&hellip; ë¬´í•œ ë°˜ë³µ &hellip;</li>
</ol>
<p><code>isUpdatingFromUrl.current = true</code>ëŠ” &ldquo;ì§€ê¸ˆì€ URL ë³€ê²½ ë•Œë¬¸ì— í¼ì„ ê°•ì œë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ì¤‘ì´ë‹ˆ, <code>watch</code>ëŠ” ì ì‹œ ë°˜ì‘í•˜ì§€ ë§ë¼&quot;ê³  ì•Œë ¤ì£¼ëŠ” ì‹ í˜¸íƒ„ê³¼ ê°™ìŠµë‹ˆë‹¤. í¼ì„ <code>reset</code> í•œ ì§í›„ <code>setTimeout</code>ìœ¼ë¡œ í”Œë˜ê·¸ë¥¼ ë‹¤ì‹œ <code>false</code>ë¡œ ë°”ê¿”ì„œ, ê·¸ ì´í›„ì˜ ì‚¬ìš©ì ì…ë ¥ì—ëŠ” ì •ìƒì ìœ¼ë¡œ ë°˜ì‘í•˜ë„ë¡ ë§Œë“­ë‹ˆë‹¤. ë§¤ìš° íš¨ìœ¨ì ì¸ ë°©ë²•ì…ë‹ˆë‹¤.</p>
<h2 id="ì‹¤ì œë¡œ-ì‚¬ìš©í•´ë³´ê¸°-">ì‹¤ì œë¡œ ì‚¬ìš©í•´ë³´ê¸° ğŸ“</h2>
<p>ì´ì œ ì´ í›…ì„ ì‹¤ì œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. ê°„ë‹¨í•œ ê²€ìƒ‰ í¼ì„ ì˜ˆì‹œë¡œ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f7f7f7;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-webkit-text-size-adjust:none;"><code class="language-tsx" data-lang="tsx"><span style="display:flex;"><span><span style="color:#57606a">// components/SearchForm.tsx
</span></span></span><span style="display:flex;"><span><span style="color:#0a3069">&#34;use client&#34;</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">import</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">useFormUrlSync</span> <span style="color:#1f2328">}</span> <span style="color:#cf222e">from</span> <span style="color:#0a3069">&#34;@/hooks/useFormUrlSync&#34;</span><span style="color:#1f2328">;</span> <span style="color:#57606a">// ìš°ë¦¬ê°€ ë§Œë“  í›…
</span></span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">interface</span> <span style="color:#1f2328">SearchFormValues</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">keyword</span>: <span style="color:#cf222e">string</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">category</span>: <span style="color:#cf222e">string</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">inStockOnly</span>: <span style="color:#cf222e">boolean</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">page</span>: <span style="color:#cf222e">number</span><span style="color:#1f2328">;</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#cf222e">export</span> <span style="color:#cf222e">function</span> <span style="color:#1f2328">SearchForm() {</span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">register</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">handleSubmit</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">formState</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">{</span> <span style="color:#1f2328">errors</span> <span style="color:#1f2328">}</span> <span style="color:#1f2328">}</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">useFormUrlSync</span><span style="color:#1f2328">&lt;</span><span style="color:#0550ae">SearchFormValues</span><span style="color:#1f2328">&gt;({</span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// í¼ì˜ ê¸°ë³¸ê°’ ì„¤ì •
</span></span></span><span style="display:flex;"><span>    <span style="color:#1f2328">defaultValues</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">keyword</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">category</span><span style="color:#0550ae">:</span> <span style="color:#0a3069">&#34;all&#34;</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">inStockOnly</span>: <span style="color:#cf222e">false</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">page</span>: <span style="color:#cf222e">1</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// URLì— í¬í•¨ì‹œí‚¤ê³  ì‹¶ì§€ ì•Šì€ í•„ë“œ
</span></span></span><span style="display:flex;"><span>    <span style="color:#1f2328">excludeFromUrl</span><span style="color:#0550ae">:</span> <span style="color:#1f2328">[</span><span style="color:#0a3069">&#34;page&#34;</span><span style="color:#1f2328">],</span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// URL ë³€ê²½ ì‹œ íˆìŠ¤í† ë¦¬ë¥¼ ë‚¨ê¸°ê³  ì‹¶ì„ ë•Œ
</span></span></span><span style="display:flex;"><span>    <span style="color:#1f2328">replace</span>: <span style="color:#cf222e">false</span><span style="color:#1f2328">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">});</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">const</span> <span style="color:#1f2328">onSubmit</span> <span style="color:#0550ae">=</span> <span style="color:#1f2328">(</span><span style="color:#1f2328">data</span>: <span style="color:#cf222e">SearchFormValues</span><span style="color:#1f2328">)</span> <span style="color:#0550ae">=&gt;</span> <span style="color:#1f2328">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#57606a">// ì‹¤ì œ ê²€ìƒ‰ ë¡œì§ ìˆ˜í–‰
</span></span></span><span style="display:flex;"><span>    <span style="color:#1f2328">console</span><span style="color:#1f2328">.</span><span style="color:#1f2328">log</span><span style="color:#1f2328">(</span><span style="color:#0a3069">&#34;ê²€ìƒ‰ ì‹¤í–‰:&#34;</span><span style="color:#1f2328">,</span> <span style="color:#1f2328">data</span><span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">};</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#cf222e">return</span> <span style="color:#1f2328">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">form</span> <span style="color:#1f2328">onSubmit</span><span style="color:#0550ae">=</span><span style="color:#1f2328">{</span><span style="color:#1f2328">handleSubmit</span><span style="color:#1f2328">(</span><span style="color:#1f2328">onSubmit</span><span style="color:#1f2328">)}</span> <span style="color:#1f2328">className</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;space-y-4&#34;</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">label</span> <span style="color:#1f2328">htmlFor</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;keyword&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ê²€ìƒ‰ì–´</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">label</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">input</span> <span style="color:#1f2328">id</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;keyword&#34;</span> <span style="color:#1f2328">{</span><span style="color:#1f2328">...register</span><span style="color:#f6f8fa;background-color:#82071e">(</span><span style="color:#0a3069">&#34;keyword&#34;</span><span style="color:#f6f8fa;background-color:#82071e">)</span><span style="color:#1f2328">}</span> <span style="color:#1f2328">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">label</span> <span style="color:#1f2328">htmlFor</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;category&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ì¹´í…Œê³ ë¦¬</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">label</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">select</span> <span style="color:#1f2328">id</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;category&#34;</span> <span style="color:#1f2328">{</span><span style="color:#1f2328">...register</span><span style="color:#f6f8fa;background-color:#82071e">(</span><span style="color:#0a3069">&#34;category&#34;</span><span style="color:#f6f8fa;background-color:#82071e">)</span><span style="color:#1f2328">}&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">option</span> <span style="color:#1f2328">value</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;all&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ì „ì²´</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">option</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">option</span> <span style="color:#1f2328">value</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;electronics&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ì „ìê¸°ê¸°</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">option</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">option</span> <span style="color:#1f2328">value</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;books&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ë„ì„œ</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">option</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">select</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">input</span> <span style="color:#1f2328">type</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;checkbox&#34;</span> <span style="color:#1f2328">id</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;inStockOnly&#34;</span> <span style="color:#1f2328">{</span><span style="color:#1f2328">...register</span><span style="color:#f6f8fa;background-color:#82071e">(</span><span style="color:#0a3069">&#34;inStockOnly&#34;</span><span style="color:#f6f8fa;background-color:#82071e">)</span><span style="color:#1f2328">}</span> <span style="color:#1f2328">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">label</span> <span style="color:#1f2328">htmlFor</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;inStockOnly&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ì¬ê³ </span> <span style="color:#f6f8fa;background-color:#82071e">ìˆìŒ</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">label</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">div</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#1f2328">&lt;</span><span style="color:#0550ae">button</span> <span style="color:#1f2328">type</span><span style="color:#0550ae">=</span><span style="color:#0a3069">&#34;submit&#34;</span><span style="color:#1f2328">&gt;</span><span style="color:#f6f8fa;background-color:#82071e">ê²€ìƒ‰</span><span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">button</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#1f2328">&lt;/</span><span style="color:#0550ae">form</span><span style="color:#1f2328">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#1f2328">);</span>
</span></span><span style="display:flex;"><span><span style="color:#1f2328">}</span>
</span></span></code></pre></div><p>ì‚¬ìš©ë²•ì€ ê¸°ì¡´ <code>react-hook-form</code>ì˜ <code>useForm</code>ê³¼ ê±°ì˜ ë™ì¼í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ <code>useForm</code> ëŒ€ì‹  <code>useFormUrlSync</code>ë¥¼ ì“°ê³ , ëª‡ ê°€ì§€ ì˜µì…˜ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.</p>
<blockquote>
<p>ğŸ“Œ <strong>íŒ: <code>replace</code> ì˜µì…˜ì€ ì–¸ì œ ì‚¬ìš©í•©ë‹ˆê¹Œ?</strong></p>
<p><code>useFormUrlSync</code> í›…ì˜ <code>replace</code> ì˜µì…˜ì€ URLì„ ì—…ë°ì´íŠ¸í•  ë•Œ Next.jsì˜ <code>router.replace()</code>ë¥¼ ì“¸ì§€, <code>router.push()</code>ë¥¼ ì“¸ì§€ ê²°ì •í•˜ëŠ” ì¤‘ìš”í•œ í‚¤ì…ë‹ˆë‹¤.</p>
<ul>
<li>
<p>âœ… <strong><code>replace: true</code> (ê¸°ë³¸ê°’)</strong></p>
<ul>
<li><strong>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:</strong> ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€í•˜ëŠ” í•„í„° ê°’(ì²´í¬ë°•ìŠ¤, ê²€ìƒ‰ì–´ ì…ë ¥ ë“±)ì— ì í•©í•©ë‹ˆë‹¤.</li>
<li><strong>ì¥ì :</strong> <code>router.replace()</code>ëŠ” ë¸Œë¼ìš°ì €ì˜ íˆìŠ¤í† ë¦¬ ìŠ¤íƒì— ìƒˆ ê¸°ë¡ì„ ì¶”ê°€í•˜ì§€ ì•Šê³  í˜„ì¬ URLì„ <strong>ëŒ€ì²´</strong>í•©ë‹ˆë‹¤. ë§Œì•½ ì‚¬ìš©ìê°€ ê²€ìƒ‰ì–´ë¥¼ í•œ ê¸€ìì”© ì…ë ¥í•  ë•Œë§ˆë‹¤ íˆìŠ¤í† ë¦¬ê°€ ìŒ“ì¸ë‹¤ë©´, ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ í•œ ê¸€ìì”© ì§€ì›Œì§€ëŠ” ë¶ˆí¸í•œ ê²½í—˜ì„ í•˜ê²Œ ë  ê²ƒì…ë‹ˆë‹¤. <code>replace</code>ëŠ” ì´ëŸ° ë¶ˆí•„ìš”í•œ íˆìŠ¤í† ë¦¬ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.</li>
</ul>
</li>
<li>
<p>âŒ <strong><code>replace: false</code></strong></p>
<ul>
<li><strong>ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤:</strong> ì‚¬ìš©ìì˜ ëª…ì‹œì ì¸ ì•¡ì…˜(ì˜ˆ: &lsquo;ê²€ìƒ‰&rsquo; ë²„íŠ¼ í´ë¦­, &lsquo;ë‹¤ìŒ í˜ì´ì§€&rsquo; ë²„íŠ¼ í´ë¦­)ìœ¼ë¡œ URLì´ ë³€ê²½ë  ë•Œ ì í•©í•©ë‹ˆë‹¤.</li>
<li><strong>ì¥ì :</strong> <code>router.push()</code>ëŠ” ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ ìŠ¤íƒì— ìƒˆ ê¸°ë¡ì„ <strong>ì¶”ê°€</strong>í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, &lsquo;ê²€ìƒ‰ ì¡°ê±´ A&rsquo;ë¡œ ê²€ìƒ‰í–ˆë‹¤ê°€ &lsquo;ê²€ìƒ‰ ì¡°ê±´ B&rsquo;ë¡œ ë‹¤ì‹œ ê²€ìƒ‰í–ˆì„ ë•Œ, ì‚¬ìš©ìëŠ” ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ &lsquo;ê²€ìƒ‰ ì¡°ê±´ A&rsquo;ì˜ ê²°ê³¼ë¡œ ëŒì•„ê°€ê³  ì‹¶ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë•Œ <code>replace: false</code> (ì¦‰, <code>router.push</code>)ë¥¼ ì‚¬ìš©í•˜ë©´ ìì—°ìŠ¤ëŸ¬ìš´ ë¸Œë¼ìš°ì € íƒìƒ‰ ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
</li>
</ul>
<p>ì´ ì˜µì…˜ì„ í†µí•´ ìš°ë¦¬ëŠ” ì‚¬ìš©ìì˜ í–‰ë™ ì˜ë„ì— ë§ëŠ” ìµœì ì˜ URL ì—…ë°ì´íŠ¸ ë°©ì‹ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<p>ì´ì œ ì´ í¼ì— ê°’ì„ ì…ë ¥í•˜ë©´, URLì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë³€í•˜ê³  ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ì—ë„ ì°¨ê³¡ì°¨ê³¡ ìŒ“ì´ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<blockquote>
<p><code>http://localhost:3000/search?keyword=Next.js&amp;category=books&amp;inStockOnly=true</code></p>
</blockquote>
<h2 id="ë§ˆë¬´ë¦¬í•˜ë©°">ë§ˆë¬´ë¦¬í•˜ë©°</h2>
<p>ì´ë²ˆ ê¸€ì—ì„œëŠ” Next.js í™˜ê²½ì—ì„œ <code>react-hook-form</code>ì˜ ìƒíƒœë¥¼ URL ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì™€ ë™ê¸°í™”í•˜ëŠ” <code>useFormUrlSync</code> ì»¤ìŠ¤í…€ í›…ì— ëŒ€í•´ ì•Œì•„ë³´ì•˜ìŠµë‹ˆë‹¤.</p>
<p>ì´ í›… í•˜ë‚˜ë§Œ ì˜ ë§Œë“¤ì–´ë‘ë©´, ì•ìœ¼ë¡œ í•„í„°ë‚˜ ê²€ìƒ‰ ê¸°ëŠ¥ì´ í•„ìš”í•œ ëª¨ë“  í˜ì´ì§€ì—ì„œ ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤. ìƒíƒœ ìœ ì§€ë¥¼ ìœ„í•´ ë” ì´ìƒ ë³µì¡í•œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
<p>ë…ì ì—¬ëŸ¬ë¶„ê»˜ì„œëŠ” í”„ë¡œì íŠ¸ì—ì„œ í¼ ìƒíƒœë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í•˜ê³  ê³„ì‹­ë‹ˆê¹Œ? ë” ì¢‹ì€ ì•„ì´ë””ì–´ë‚˜ ë°©ë²•ì´ ìˆë‹¤ë©´ ëŒ“ê¸€ì„ í†µí•´ ê³µìœ í•´ ì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤. ğŸ˜Š</p>
</section>
<time>
  <i class="far fa-clock"></i>
  2025ë…„ 06ì›” 13ì¼ 21ì‹œ 00ë¶„
</time>
  
<div class="post-comment">
  <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gyuha-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


<hr class="summary-sep" />
<div class="recommend-articles">
  <h3>
    ì¶”ì²œ ê¸€
  </h3>
  <ul>
    
    <li>
      <a href="https://gyuha.com/post/2025/2025-05-06-obsidian-editor-width/" rel="prev">
        <span>ì˜µì‹œë””ì–¸ì—ì„œ í¸ì§‘ì°½ í­ ë„“íˆê¸°</span>
      </a>
    </li>
     
    <li>
      <a href="https://gyuha.com/post/2025/2025-07-16-react-hook-form-sync-with-url-2/" rel="next">
        <span>Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• 2 ğŸš€</span>
      </a>
    </li>
    
  </ul>
</div>
 
        </div>

        <div id="sidebar" class="col-12 col-md-8 col-lg-4">
          <div class="post-sidebar-area">
<div id="post-toc" class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-list"></i>
    ëª©ì°¨
  </div>
  <div class="widget-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ì™œ-urlê³¼ì˜-ë™ê¸°í™”ê°€-í•„ìš”í•©ë‹ˆê¹Œ-">ì™œ URLê³¼ì˜ ë™ê¸°í™”ê°€ í•„ìš”í•©ë‹ˆê¹Œ? ğŸ¤”</a></li>
    <li><a href="#useformurlsync-ì „ì²´-ì½”ë“œ-í›‘ì–´ë³´ê¸°-"><code>useFormUrlSync</code> ì „ì²´ ì½”ë“œ í›‘ì–´ë³´ê¸° ğŸ§</a></li>
    <li><a href="#í•µì‹¬-ë¡œì§-íŒŒí—¤ì¹˜ê¸°-">í•µì‹¬ ë¡œì§ íŒŒí—¤ì¹˜ê¸° ğŸ’¡</a>
      <ul>
        <li><a href="#1-í¼-ë³€ê²½--url-ì—…ë°ì´íŠ¸">1. í¼ ë³€ê²½ â†’ URL ì—…ë°ì´íŠ¸</a></li>
        <li><a href="#2-url-ë³€ê²½--í¼-ìƒíƒœ-ì—…ë°ì´íŠ¸">2. URL ë³€ê²½ â†’ í¼ ìƒíƒœ ì—…ë°ì´íŠ¸</a></li>
        <li><a href="#3-ë¬´í•œ-ë£¨í”„-ë°©ì§€-isupdatingfromurl-">3. ë¬´í•œ ë£¨í”„ ë°©ì§€: <code>isUpdatingFromUrl</code> âš ï¸</a></li>
      </ul>
    </li>
    <li><a href="#ì‹¤ì œë¡œ-ì‚¬ìš©í•´ë³´ê¸°-">ì‹¤ì œë¡œ ì‚¬ìš©í•´ë³´ê¸° ğŸ“</a></li>
    <li><a href="#ë§ˆë¬´ë¦¬í•˜ë©°">ë§ˆë¬´ë¦¬í•˜ë©°</a></li>
  </ul>
</nav>
  </div>
</div>
<div class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-tag"></i>
    íƒœê·¸
  </div>
  <div class="widget-content">
     
    <a href="https://gyuha.com/tags/next.js" class="badge badge-secondary">next.js</a>
    <a href="https://gyuha.com/tags/react-hook-form" class="badge badge-secondary">react-hook-form</a>
    <a href="https://gyuha.com/tags/typescript" class="badge badge-secondary">typescript</a>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>
<footer class="footer-area">
  <div class="container">
    <div class="row">
      <div class="col-12 col-md-4">
        <div class="footer-single-widget">
          <div class="copywrite-text mt-30">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved
            </p>
            <p>Made with by Gyuha</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


<script src="/vendor/jquery-2.2.4.min.js"></script>
<script src="/vendor/bootstrap/popper.min.js"></script>
<script src="/vendor/bootstrap/bootstrap.min.js"></script>
<script src="/vendor/native-console.js"></script>
<script src="/vendor/jquery.easing.1.3.js"></script>
<script src="/vendor/jquery.scrollUp.min.js"></script>


<script src="/js/active.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script>
  $(function () {
    if (window.VANTA) window.VANTA.NET({
      el: '#waves',
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.00,
      minWidth: 200.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0x3fa4ff
    })
  })
  document.addEventListener('DOMContentLoaded', function () {
    const toc = document.querySelector('#TableOfContents');
    const content = document.querySelector('.post-content');
    const headers = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

    
    toc.querySelectorAll('a').forEach(link => {
      link.classList.add('toc-item');
    });

    
    headers.forEach((header, index) => {
      if (!header.id) {
        header.id = `section-${index}`;
      }
    });

    
    function highlightTocItem() {
      const scrollPosition = window.scrollY;
      const tocItems = toc.querySelectorAll('.toc-item');

      
      let activeIndex = -1;
      for (let i = 0; i < headers.length; i++) {
        if (headers[i].getBoundingClientRect().top >= 0) {
          activeIndex = i;
          break;
        }
      }

      
      tocItems.forEach(item => item.classList.remove('active'));

      
      if (activeIndex !== -1) {
        const activeHeader = headers[activeIndex];
        const activeLink = toc.querySelector(`a[href="#${activeHeader.id}"]`);
        if (activeLink) {
          activeLink.classList.add('active');
        }
      } else if (scrollPosition + window.innerHeight >= document.documentElement.scrollHeight) {
        
        tocItems[tocItems.length - 1].classList.add('active');
      }
    }

    window.addEventListener('scroll', highlightTocItem);
    highlightTocItem(); 
  });

  
  document.addEventListener('DOMContentLoaded', function() {
    
    const codeBlocks = document.querySelectorAll('.post-content pre:not(.mermaid)');
    
    codeBlocks.forEach(function(block) {
      
      const copyButton = document.createElement('button');
      copyButton.className = 'copy-button';
      copyButton.title = 'ë³µì‚¬';
      copyButton.innerHTML = '<i class="far fa-copy"></i>';
      
      
      copyButton.addEventListener('click', function() {
        
        const code = block.querySelector('code');
        const text = code ? code.textContent : block.textContent;
        
        
        navigator.clipboard.writeText(text).then(function() {
          
          copyButton.innerHTML = '<i class="fas fa-check"></i>';
          copyButton.classList.add('copied');
          
          
          setTimeout(function() {
            copyButton.innerHTML = '<i class="far fa-copy"></i>';
            copyButton.classList.remove('copied');
          }, 2000);
        }).catch(function(err) {
          console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
          copyButton.innerHTML = '<i class="fas fa-times"></i>';
          setTimeout(function() {
            copyButton.innerHTML = '<i class="far fa-copy"></i>';
          }, 2000);
        });
      });
      
      
      block.appendChild(copyButton);
    });
  });
</script>







<script async src="https://www.googletagmanager.com/gtag/js?id=G-3XN21838ZJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "G-3XN21838ZJ");
</script>
 
</body>
</html>
