<!DOCTYPE html>
<html lang="ko-KR"><head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="description" content="Gyuha blog 'Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• 2 ğŸš€'" />
  <title>Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• 2 ğŸš€  | ì‹ ê·œí•˜ ë¸”ë¡œê·¸</title>
  <meta property="og:title" content="Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• 2 ğŸš€" />
  
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2025-06-13"> 
  <meta property="og:url" content="https://gyuha.com/post/2025/2025-07-16-react-hook-form-sync-with-url-2/" />
  <meta property="og:site_name" content="ì‹ ê·œí•˜ ë¸”ë¡œê·¸" />
   <meta property="og:image" content="https://gyuha.com/images/thumbnail.png">  
  <meta property="og:tags" content="next.js" />
  
  <meta property="og:tags" content="react-hook-form" />
  
  <meta property="og:tags" content="typescript" />
  

  
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />

  
  <link rel="stylesheet" href="/vendor/bootstrap/bootstrap.min.css" /> <link rel="stylesheet" href="/vendor/magnific-popup/magnific-popup.css" /> <link rel="stylesheet" href="/vendor/wow/animate.css" /> <link rel="stylesheet" href="/css/style.css" />
</head>
<body>
<header class="header-area">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <nav class="navbar navbar-expand-lg">
          
          <a class="navbar-brand" href='/'>
            <img src="/img/logo-title.png" alt="Logo" />
          </a>
          
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          
          <div class="collapse navbar-collapse" id="nav">
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href='/'>ë¸”ë¡œê·¸</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/categories'>ì¹´í…Œê³ ë¦¬</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href='/tags'>íƒœê·¸</a>
              </li>
            </ul>
            
            <div id="search-wrapper">
              <form action="https://google.com/search">
                <input type="search" placeholder='ê²€ìƒ‰ì–´' name="q" class="search">
                <i class="fa fa-search"></i>
                <input type="hidden" name="sitesearch" value="https://gyuha.com/" />
              </form>
              </div>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </div>
</header>

<div class="top-area">
  <div class="top-video top-video-small ">
    <div id="waves" class="video"></div>
    <div class="container">
      <div class="title-message">
        
        <a href="https://gyuha.com/post/2025/2025-07-16-react-hook-form-sync-with-url-2/">
          <h1>
            Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• 2 ğŸš€
          </h1>
        </a>
        
      </div>
    </div>
  </div>
</div>
<div class="container">
      <div class="row justify-content-center">
        <div class="col-12 col-lg-8">

<div class="post-title">
  <a href="https://gyuha.com/post/2025/2025-07-16-react-hook-form-sync-with-url-2/">
    <div class="post-meta">
      <time></time>
    </div>
  </a>
</div>
<section class="post-content">
  
  <h2 id="ì „ì²´-ì†ŒìŠ¤-ì½”ë“œ">ì „ì²´ ì†ŒìŠ¤ ì½”ë“œ</h2>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-tsx" data-lang="tsx"><span style="display:flex;"><span><span style="color:#0086d2">&#34;use client&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> <span style="color:#fb660a;font-weight:bold">type</span> { AliasAny } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#34;@/types/alias.types&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> { isNumber } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#34;es-toolkit/compat&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> { useRouter, useSearchParams } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#34;next/navigation&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> { useCallback, useEffect, useRef } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#34;react&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> { <span style="color:#fb660a;font-weight:bold">type</span> DefaultValues, <span style="color:#fb660a;font-weight:bold">type</span> FieldValues, <span style="color:#fb660a;font-weight:bold">type</span> UseFormProps, <span style="color:#fb660a;font-weight:bold">type</span> UseFormReturn, useForm } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#34;react-hook-form&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * useFormUrlSync í›…ì˜ ì˜µì…˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">type</span> UseFormUrlSyncOptions&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt; = Omit&lt;<span style="color:#fb660a;font-weight:bold">UseFormProps</span>&lt;<span style="color:#ff0086;font-weight:bold">T</span>&gt;, <span style="color:#0086d2">&#34;defaultValues&#34;</span>&gt; &amp; {
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">/** URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤ */</span>
</span></span><span style="display:flex;"><span>  excludeFromUrl?: (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[];
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">/** URL ë³€ê²½ ì‹œ replace ì‚¬ìš© ì—¬ë¶€ (ê¸°ë³¸ê°’: true) */</span>
</span></span><span style="display:flex;"><span>  replace?: <span style="color:#cdcaa9;font-weight:bold">boolean</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">/** í¼ì˜ ê¸°ë³¸ê°’ë“¤ */</span>
</span></span><span style="display:flex;"><span>  defaultValues: <span style="color:#cdcaa9;font-weight:bold">DefaultValues</span>&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt;;
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">/** URL ì‹¤ì‹œê°„ ë™ê¸°í™” ì—¬ë¶€ (ê¸°ë³¸ê°’: true) */</span>
</span></span><span style="display:flex;"><span>  sync?: <span style="color:#cdcaa9;font-weight:bold">boolean</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * useFormUrlSync í›…ì˜ ë°˜í™˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">type</span> UseFormUrlSyncReturn&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt; = UseFormReturn&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; &amp; {
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">/** URLì„ ìˆ˜ë™ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” í•¨ìˆ˜ */</span>
</span></span><span style="display:flex;"><span>  syncToUrl: () =&gt; <span style="color:#fb660a;font-weight:bold">void</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * URL íŒŒë¼ë¯¸í„° ê°’ì„ ì ì ˆí•œ íƒ€ì…ìœ¼ë¡œ íŒŒì‹±í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param value - íŒŒì‹±í•  ë¬¸ìì—´ ê°’
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @returns íŒŒì‹±ëœ ê°’ (string | number | boolean)
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> parseUrlValue(value: <span style="color:#cdcaa9;font-weight:bold">string</span>): <span style="color:#cdcaa9;font-weight:bold">string</span> | <span style="color:#cdcaa9;font-weight:bold">number</span> | <span style="color:#fb660a;font-weight:bold">boolean</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;true&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> <span style="color:#fb660a;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;false&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> <span style="color:#fb660a;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> numValue = Number(value);
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (isNumber(numValue) &amp;&amp; !Number.isNaN(numValue)) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">return</span> numValue;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ì—ì„œ ì´ˆê¸°ê°’ì„ ì¶”ì¶œí•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param searchParams - URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param excludeFromUrl - URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @returns URLì—ì„œ ì¶”ì¶œí•œ ì´ˆê¸°ê°’ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> extractInitialValuesFromUrl&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt;(
</span></span><span style="display:flex;"><span>  searchParams: <span style="color:#cdcaa9;font-weight:bold">URLSearchParams</span>,
</span></span><span style="display:flex;"><span>  excludeFromUrl: (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[],
</span></span><span style="display:flex;"><span>): Partial&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> urlValues: <span style="color:#cdcaa9;font-weight:bold">Partial</span>&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; = {};
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">for</span> (<span style="color:#fb660a;font-weight:bold">const</span> [key, value] <span style="color:#fb660a;font-weight:bold">of</span> searchParams.entries()) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (!excludeFromUrl.includes(key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T)) {
</span></span><span style="display:flex;"><span>      (urlValues <span style="color:#fb660a;font-weight:bold">as</span> AliasAny)[key] = parseUrlValue(value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> urlValues;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * í¼ ê°’ë“¤ë¡œë¶€í„° URL íŒŒë¼ë¯¸í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param values - í¼ ê°’ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param currentParams - í˜„ì¬ URL íŒŒë¼ë¯¸í„°
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param excludeFromUrl - URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  í•„ë“œëª…ë“¤
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @returns ìƒˆë¡œìš´ URLSearchParams ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> createUrlParamsFromValues&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt;(
</span></span><span style="display:flex;"><span>  values: <span style="color:#cdcaa9;font-weight:bold">T</span>,
</span></span><span style="display:flex;"><span>  currentParams: <span style="color:#cdcaa9;font-weight:bold">URLSearchParams</span>,
</span></span><span style="display:flex;"><span>  excludeFromUrl: (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[],
</span></span><span style="display:flex;"><span>): URLSearchParams {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> params = <span style="color:#fb660a;font-weight:bold">new</span> URLSearchParams(currentParams);
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">for</span> (<span style="color:#fb660a;font-weight:bold">const</span> [key, value] <span style="color:#fb660a;font-weight:bold">of</span> Object.entries(values)) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (excludeFromUrl.includes(key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T)) {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (value !== <span style="color:#fb660a;font-weight:bold">undefined</span> &amp;&amp; value !== <span style="color:#fb660a;font-weight:bold">null</span> &amp;&amp; value !== <span style="color:#0086d2">&#34;&#34;</span>) {
</span></span><span style="display:flex;"><span>      params.<span style="color:#fb660a;font-weight:bold">set</span>(key, String(value));
</span></span><span style="display:flex;"><span>    } <span style="color:#fb660a;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>      params.<span style="color:#fb660a;font-weight:bold">delete</span>(key);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> params;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * ë‘ ê°ì²´ì˜ ê¹Šì€ ë¹„êµë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param obj1 - ë¹„êµí•  ì²« ë²ˆì§¸ ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param obj2 - ë¹„êµí•  ë‘ ë²ˆì§¸ ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @returns ê°ì²´ë“¤ì´ ë™ì¼í•œì§€ ì—¬ë¶€
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> deepEqual(obj1: <span style="color:#cdcaa9;font-weight:bold">AliasAny</span>, obj2: <span style="color:#cdcaa9;font-weight:bold">AliasAny</span>): <span style="color:#fb660a;font-weight:bold">boolean</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> JSON.stringify(obj1) === JSON.stringify(obj2);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * React Hook Formê³¼ URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ë¥¼ ì–‘ë°©í–¥ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @template T - í¼ í•„ë“œ ê°’ë“¤ì˜ íƒ€ì…, FieldValuesë¥¼ í™•ì¥í•´ì•¼ í•¨
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @param options - í›… ì„¤ì • ì˜µì…˜
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @returns React Hook Formì˜ UseFormReturn ê°ì²´
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * @remarks
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * URL íŒŒë¼ë¯¸í„°ëŠ” ìë™ìœ¼ë¡œ ì ì ˆí•œ íƒ€ì…(string, number, boolean)ìœ¼ë¡œ íŒŒì‹±ë©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * ë¹ˆ ë¬¸ìì—´, null, undefined ê°’ì€ URLì—ì„œ ì œê±°ë©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> * Next.jsì˜ useRouterì™€ useSearchParamsë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ Next.js í™˜ê²½ì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤.
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">export</span> <span style="color:#fb660a;font-weight:bold">function</span> useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt;(options: <span style="color:#cdcaa9;font-weight:bold">UseFormUrlSyncOptions</span>&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt;): UseFormUrlSyncReturn&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> router = useRouter();
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> searchParams = useSearchParams();
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> { excludeFromUrl = [], replace = <span style="color:#fb660a;font-weight:bold">true</span>, defaultValues, sync = <span style="color:#fb660a;font-weight:bold">true</span>, ...formOptions } = options;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> isUpdatingFromUrl = useRef(<span style="color:#fb660a;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> getUrlValues = useCallback(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">return</span> extractInitialValuesFromUrl&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt;(searchParams, excludeFromUrl <span style="color:#fb660a;font-weight:bold">as</span> (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[]);
</span></span><span style="display:flex;"><span>  }, [searchParams, excludeFromUrl]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> initialValues = {
</span></span><span style="display:flex;"><span>    ...defaultValues,
</span></span><span style="display:flex;"><span>    ...getUrlValues(),
</span></span><span style="display:flex;"><span>  } <span style="color:#fb660a;font-weight:bold">as</span> DefaultValues&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt;;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> form = useForm({
</span></span><span style="display:flex;"><span>    ...formOptions,
</span></span><span style="display:flex;"><span>    defaultValues: <span style="color:#cdcaa9;font-weight:bold">initialValues</span>,
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> { watch, reset, getValues } = form;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> updateUrl = useCallback(
</span></span><span style="display:flex;"><span>    (values: <span style="color:#cdcaa9;font-weight:bold">T</span>) =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">const</span> params = createUrlParamsFromValues(values, searchParams, excludeFromUrl <span style="color:#fb660a;font-weight:bold">as</span> (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[]);
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">const</span> newSearchString = params.toString();
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">const</span> currentSearchString = <span style="color:#fb660a;font-weight:bold">new</span> URLSearchParams(window.location.search).toString();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">if</span> (newSearchString !== currentSearchString) {
</span></span><span style="display:flex;"><span>        <span style="color:#fb660a;font-weight:bold">const</span> newUrl = <span style="color:#0086d2">`</span><span style="color:#0086d2">${</span>window.location.pathname<span style="color:#0086d2">}</span><span style="color:#0086d2">?</span><span style="color:#0086d2">${</span>newSearchString<span style="color:#0086d2">}</span><span style="color:#0086d2">`</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#fb660a;font-weight:bold">if</span> (replace) {
</span></span><span style="display:flex;"><span>          router.replace(newUrl, { scroll: <span style="color:#cdcaa9;font-weight:bold">false</span> });
</span></span><span style="display:flex;"><span>        } <span style="color:#fb660a;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>          router.push(newUrl, { scroll: <span style="color:#cdcaa9;font-weight:bold">false</span> });
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    [router, searchParams, excludeFromUrl, replace],
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> syncToUrl = useCallback(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">const</span> values = getValues();
</span></span><span style="display:flex;"><span>    updateUrl(values);
</span></span><span style="display:flex;"><span>  }, [getValues, updateUrl]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (sync) {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">const</span> subscription = watch(values =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#fb660a;font-weight:bold">if</span> (isUpdatingFromUrl.current) {
</span></span><span style="display:flex;"><span>          <span style="color:#fb660a;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        updateUrl(values <span style="color:#fb660a;font-weight:bold">as</span> T);
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">return</span> () =&gt; subscription.unsubscribe();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, [watch, updateUrl, sync]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">const</span> urlValues = getUrlValues();
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">const</span> currentFormValues = getValues();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">const</span> relevantFormValues: <span style="color:#cdcaa9;font-weight:bold">Partial</span>&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; = {};
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">for</span> (<span style="color:#fb660a;font-weight:bold">const</span> key <span style="color:#fb660a;font-weight:bold">in</span> urlValues) {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">if</span> (Object.prototype.hasOwnProperty.call(urlValues, key)) {
</span></span><span style="display:flex;"><span>        relevantFormValues[key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T] = currentFormValues[key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T];
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (!deepEqual(urlValues, relevantFormValues)) {
</span></span><span style="display:flex;"><span>      isUpdatingFromUrl.current = <span style="color:#fb660a;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      reset({
</span></span><span style="display:flex;"><span>        ...currentFormValues,
</span></span><span style="display:flex;"><span>        ...urlValues,
</span></span><span style="display:flex;"><span>      } <span style="color:#fb660a;font-weight:bold">as</span> DefaultValues&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt;);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>      setTimeout(() =&gt; {
</span></span><span style="display:flex;"><span>        isUpdatingFromUrl.current = <span style="color:#fb660a;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>      }, <span style="color:#0086f7;font-weight:bold">0</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }, [getUrlValues, reset, getValues]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> {
</span></span><span style="display:flex;"><span>    ...form,
</span></span><span style="display:flex;"><span>    syncToUrl: <span style="color:#cdcaa9;font-weight:bold">syncToUrl</span>,
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ í•„í„°ë‚˜ ê²€ìƒ‰ ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•Œ, ì‚¬ìš©ìê°€ ì„¤ì •í•œ ìƒíƒœë¥¼ URLì— ë°˜ì˜í•˜ê³  ì‹¶ì€ ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìê°€ ìƒí’ˆ ëª©ë¡ì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•˜ê³  ê°€ê²© ë²”ìœ„ë¥¼ ì„¤ì •í–ˆì„ ë•Œ, ì´ ì •ë³´ê°€ URLì— ë°˜ì˜ë˜ì–´ í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ë‹¤ë¥¸ ì‚¬ëŒê³¼ ê³µìœ í•´ë„ ë™ì¼í•œ í•„í„° ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.</p>
<p>ì´ëŸ° ìš”êµ¬ì‚¬í•­ì„ í•´ê²°í•˜ê¸° ìœ„í•´ React Hook Formê³¼ URL ê²€ìƒ‰ íŒŒë¼ë¯¸í„°ë¥¼ ì–‘ë°©í–¥ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” <code>useFormUrlSync</code> ì»¤ìŠ¤í…€ í›…ì„ ì†Œê°œí•©ë‹ˆë‹¤.</p>
<h2 id="ì£¼ìš”-ê¸°ëŠ¥">ì£¼ìš” ê¸°ëŠ¥</h2>
<h3 id="1-ì–‘ë°©í–¥-ë™ê¸°í™”">1. ì–‘ë°©í–¥ ë™ê¸°í™”</h3>
<ul>
<li><strong>í¼ â†’ URL</strong>: í¼ ê°’ì´ ë³€ê²½ë˜ë©´ ìë™ìœ¼ë¡œ URLì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤</li>
<li><strong>URL â†’ í¼</strong>: URL íŒŒë¼ë¯¸í„°ê°€ ë³€ê²½ë˜ë©´ í¼ ìƒíƒœë„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤</li>
</ul>
<h3 id="2-íƒ€ì…-ì•ˆì „ì„±">2. íƒ€ì… ì•ˆì „ì„±</h3>
<p>URL íŒŒë¼ë¯¸í„°ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë¬¸ìì—´ì´ì§€ë§Œ, ì´ í›…ì€ ìë™ìœ¼ë¡œ ì ì ˆí•œ íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤:</p>
<ul>
<li><code>&quot;true&quot;</code> â†’ <code>true</code> (boolean)</li>
<li><code>&quot;false&quot;</code> â†’ <code>false</code> (boolean)</li>
<li><code>&quot;42&quot;</code> â†’ <code>42</code> (number)</li>
<li><code>&quot;hello&quot;</code> â†’ <code>&quot;hello&quot;</code> (string)</li>
</ul>
<h3 id="3-ì„ íƒì -í•„ë“œ-ì œì™¸">3. ì„ íƒì  í•„ë“œ ì œì™¸</h3>
<p>íŠ¹ì • í•„ë“œë¥¼ URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ë¹„ë°€ë²ˆí˜¸ë‚˜ ì„ì‹œ ìƒíƒœ ê°™ì€ ë¯¼ê°í•œ ì •ë³´ëŠ” URLì— ë…¸ì¶œë˜ì§€ ì•Šë„ë¡ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="4-ì‹¤ì‹œê°„-ë™ê¸°í™”-ì œì–´">4. ì‹¤ì‹œê°„ ë™ê¸°í™” ì œì–´</h3>
<p><code>sync</code> ì˜µì…˜ìœ¼ë¡œ ì‹¤ì‹œê°„ ë™ê¸°í™”ë¥¼ í™œì„±í™”/ë¹„í™œì„±í™”í•  ìˆ˜ ìˆìœ¼ë©°, ìˆ˜ë™ìœ¼ë¡œ ë™ê¸°í™”í•  ìˆ˜ ìˆëŠ” <code>syncToUrl</code> í•¨ìˆ˜ë„ ì œê³µë©ë‹ˆë‹¤.</p>
<h2 id="ì‚¬ìš©-ë°©ë²•">ì‚¬ìš© ë°©ë²•</h2>
<h3 id="ê¸°ë³¸-ì‚¬ìš©ë²•">ê¸°ë³¸ ì‚¬ìš©ë²•</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">import</span> { useFormUrlSync } <span style="color:#fb660a;font-weight:bold">from</span> <span style="color:#0086d2">&#39;./useFormUrlSync&#39;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">type</span> FilterForm = {
</span></span><span style="display:flex;"><span>  category: <span style="color:#cdcaa9;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  minPrice: <span style="color:#cdcaa9;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  maxPrice: <span style="color:#cdcaa9;font-weight:bold">number</span>;
</span></span><span style="display:flex;"><span>  inStock: <span style="color:#cdcaa9;font-weight:bold">boolean</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> ProductFilter() {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> form = useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">FilterForm</span>&gt;({
</span></span><span style="display:flex;"><span>    defaultValues: {
</span></span><span style="display:flex;"><span>      category: <span style="color:#0086d2">&#39;&#39;</span>,
</span></span><span style="display:flex;"><span>      minPrice: <span style="color:#cdcaa9;font-weight:bold">0</span>,
</span></span><span style="display:flex;"><span>      maxPrice: <span style="color:#cdcaa9;font-weight:bold">1000</span>,
</span></span><span style="display:flex;"><span>      inStock: <span style="color:#cdcaa9;font-weight:bold">false</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> { register, watch } = form;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> values = watch();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#fb660a;font-weight:bold">form</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">select</span> {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">category</span>&#39;)}&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;&#34;</span>&gt;ì „ì²´ ì¹´í…Œê³ ë¦¬&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;electronics&#34;</span>&gt;ì „ìì œí’ˆ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;clothing&#34;</span>&gt;ì˜ë¥˜&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#fb660a;font-weight:bold">select</span>&gt;
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">input</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff0086;font-weight:bold">type</span>=<span style="color:#0086d2">&#34;number&#34;</span>
</span></span><span style="display:flex;"><span>        {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">minPrice</span>&#39;, { <span style="color:#ff0086;font-weight:bold">valueAsNumber</span>: <span style="color:#ff0086;font-weight:bold">true</span> })}
</span></span><span style="display:flex;"><span>        <span style="color:#ff0086;font-weight:bold">placeholder</span>=<span style="color:#0086d2">&#34;ìµœì†Œ ê°€ê²©&#34;</span>
</span></span><span style="display:flex;"><span>      /&gt;
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">input</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff0086;font-weight:bold">type</span>=<span style="color:#0086d2">&#34;number&#34;</span>
</span></span><span style="display:flex;"><span>        {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">maxPrice</span>&#39;, { <span style="color:#ff0086;font-weight:bold">valueAsNumber</span>: <span style="color:#ff0086;font-weight:bold">true</span> })}
</span></span><span style="display:flex;"><span>        <span style="color:#ff0086;font-weight:bold">placeholder</span>=<span style="color:#0086d2">&#34;ìµœëŒ€ ê°€ê²©&#34;</span>
</span></span><span style="display:flex;"><span>      /&gt;
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">input</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ff0086;font-weight:bold">type</span>=<span style="color:#0086d2">&#34;checkbox&#34;</span>
</span></span><span style="display:flex;"><span>          {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">inStock</span>&#39;)}
</span></span><span style="display:flex;"><span>        /&gt;
</span></span><span style="display:flex;"><span>        ì¬ê³  ìˆëŠ” ìƒí’ˆë§Œ
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#fb660a;font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#fb660a;font-weight:bold">form</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="ì˜µì…˜-ìƒì„¸-ì„¤ëª…">ì˜µì…˜ ìƒì„¸ ì„¤ëª…</h3>
<h4 id="excludefromurl"><code>excludeFromUrl</code></h4>
<p>íŠ¹ì • í•„ë“œë¥¼ URL ë™ê¸°í™”ì—ì„œ ì œì™¸í•©ë‹ˆë‹¤:</p>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">const</span> form = useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">FilterForm</span>&gt;({
</span></span><span style="display:flex;"><span>  defaultValues: { <span style="color:#080;background-color:#0f140f;font-style:italic">/* ... */</span> },
</span></span><span style="display:flex;"><span>  excludeFromUrl: [<span style="color:#0086d2">&#39;password&#39;</span>, <span style="color:#0086d2">&#39;temporaryState&#39;</span>],
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><h4 id="replace"><code>replace</code></h4>
<p>URL ë³€ê²½ ì‹œ ë¸Œë¼ìš°ì € íˆìŠ¤í† ë¦¬ ê´€ë¦¬ ë°©ì‹ì„ ê²°ì •í•©ë‹ˆë‹¤:</p>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">const</span> form = useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">FilterForm</span>&gt;({
</span></span><span style="display:flex;"><span>  defaultValues: { <span style="color:#080;background-color:#0f140f;font-style:italic">/* ... */</span> },
</span></span><span style="display:flex;"><span>  replace: <span style="color:#cdcaa9;font-weight:bold">false</span>, <span style="color:#080;background-color:#0f140f;font-style:italic">// push ì‚¬ìš© (ê¸°ë³¸ê°’: true)
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span>});
</span></span></code></pre></div><h4 id="sync"><code>sync</code></h4>
<p>ì‹¤ì‹œê°„ ë™ê¸°í™” ì—¬ë¶€ë¥¼ ì œì–´í•©ë‹ˆë‹¤:</p>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">const</span> form = useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">FilterForm</span>&gt;({
</span></span><span style="display:flex;"><span>  defaultValues: { <span style="color:#080;background-color:#0f140f;font-style:italic">/* ... */</span> },
</span></span><span style="display:flex;"><span>  sync: <span style="color:#cdcaa9;font-weight:bold">false</span>, <span style="color:#080;background-color:#0f140f;font-style:italic">// ì‹¤ì‹œê°„ ë™ê¸°í™” ë¹„í™œì„±í™”
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span>});
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic">// ìˆ˜ë™ìœ¼ë¡œ ë™ê¸°í™”
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span><span style="color:#fb660a;font-weight:bold">const</span> { syncToUrl } = form;
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">const</span> handleSubmit = () =&gt; {
</span></span><span style="display:flex;"><span>  syncToUrl();
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h2 id="êµ¬í˜„-ìƒì„¸-ì„¤ëª…">êµ¬í˜„ ìƒì„¸ ì„¤ëª…</h2>
<h3 id="1-url-ê°’-íŒŒì‹±-parseurlvalue">1. URL ê°’ íŒŒì‹± (<code>parseUrlValue</code>)</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> parseUrlValue(value: <span style="color:#cdcaa9;font-weight:bold">string</span>): <span style="color:#cdcaa9;font-weight:bold">string</span> | <span style="color:#cdcaa9;font-weight:bold">number</span> | <span style="color:#fb660a;font-weight:bold">boolean</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;true&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> <span style="color:#fb660a;font-weight:bold">true</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (value === <span style="color:#0086d2">&#34;false&#34;</span>) <span style="color:#fb660a;font-weight:bold">return</span> <span style="color:#fb660a;font-weight:bold">false</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> numValue = Number(value);
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (isNumber(numValue) &amp;&amp; !Number.isNaN(numValue)) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">return</span> numValue;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> value;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ì´ í•¨ìˆ˜ëŠ” URLì˜ ë¬¸ìì—´ íŒŒë¼ë¯¸í„°ë¥¼ ì ì ˆí•œ íƒ€ì…ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ë¬¸ìì—´ì´ booleanì´ë‚˜ numberë¡œ ë³€í™˜ ê°€ëŠ¥í•œì§€ í™•ì¸í•˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì›ë³¸ ë¬¸ìì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.</p>
<h3 id="2-ì´ˆê¸°ê°’-ì¶”ì¶œ-extractinitialvaluesfromurl">2. ì´ˆê¸°ê°’ ì¶”ì¶œ (<code>extractInitialValuesFromUrl</code>)</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> extractInitialValuesFromUrl&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt;(
</span></span><span style="display:flex;"><span>  searchParams: <span style="color:#cdcaa9;font-weight:bold">URLSearchParams</span>,
</span></span><span style="display:flex;"><span>  excludeFromUrl: (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[],
</span></span><span style="display:flex;"><span>): Partial&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> urlValues: <span style="color:#cdcaa9;font-weight:bold">Partial</span>&lt;<span style="color:#fb660a;font-weight:bold">T</span>&gt; = {};
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">for</span> (<span style="color:#fb660a;font-weight:bold">const</span> [key, value] <span style="color:#fb660a;font-weight:bold">of</span> searchParams.entries()) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (!excludeFromUrl.includes(key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T)) {
</span></span><span style="display:flex;"><span>      (urlValues <span style="color:#fb660a;font-weight:bold">as</span> AliasAny)[key] = parseUrlValue(value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> urlValues;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>í˜ì´ì§€ ë¡œë“œ ì‹œ URLì—ì„œ ì´ˆê¸°ê°’ì„ ì¶”ì¶œí•˜ì—¬ í¼ì˜ ê¸°ë³¸ê°’ê³¼ ë³‘í•©í•©ë‹ˆë‹¤. <code>excludeFromUrl</code>ì— í¬í•¨ëœ í•„ë“œëŠ” ì œì™¸ë©ë‹ˆë‹¤.</p>
<h3 id="3-url-íŒŒë¼ë¯¸í„°-ìƒì„±-createurlparamsfromvalues">3. URL íŒŒë¼ë¯¸í„° ìƒì„± (<code>createUrlParamsFromValues</code>)</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> createUrlParamsFromValues&lt;<span style="color:#fb660a;font-weight:bold">T</span> <span style="color:#ff0086;font-weight:bold">extends</span> <span style="color:#ff0086;font-weight:bold">FieldValues</span>&gt;(
</span></span><span style="display:flex;"><span>  values: <span style="color:#cdcaa9;font-weight:bold">T</span>,
</span></span><span style="display:flex;"><span>  currentParams: <span style="color:#cdcaa9;font-weight:bold">URLSearchParams</span>,
</span></span><span style="display:flex;"><span>  excludeFromUrl: (<span style="color:#fb660a;font-weight:bold">keyof</span> T)[],
</span></span><span style="display:flex;"><span>): URLSearchParams {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> params = <span style="color:#fb660a;font-weight:bold">new</span> URLSearchParams(currentParams);
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">for</span> (<span style="color:#fb660a;font-weight:bold">const</span> [key, value] <span style="color:#fb660a;font-weight:bold">of</span> Object.entries(values)) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (excludeFromUrl.includes(key <span style="color:#fb660a;font-weight:bold">as</span> <span style="color:#fb660a;font-weight:bold">keyof</span> T)) {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">if</span> (value !== <span style="color:#fb660a;font-weight:bold">undefined</span> &amp;&amp; value !== <span style="color:#fb660a;font-weight:bold">null</span> &amp;&amp; value !== <span style="color:#0086d2">&#34;&#34;</span>) {
</span></span><span style="display:flex;"><span>      params.<span style="color:#fb660a;font-weight:bold">set</span>(key, String(value));
</span></span><span style="display:flex;"><span>    } <span style="color:#fb660a;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>      params.<span style="color:#fb660a;font-weight:bold">delete</span>(key);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> params;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>í¼ ê°’ë“¤ì„ URL íŒŒë¼ë¯¸í„°ë¡œ ë³€í™˜í•©ë‹ˆë‹¤. ë¹ˆ ê°’(<code>undefined</code>, <code>null</code>, <code>&quot;&quot;</code>)ì€ URLì—ì„œ ì œê±°ë˜ì–´ ê¹”ë”í•œ URLì„ ìœ ì§€í•©ë‹ˆë‹¤.</p>
<h3 id="4-ë¬´í•œ-ë£¨í”„-ë°©ì§€">4. ë¬´í•œ ë£¨í”„ ë°©ì§€</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">const</span> isUpdatingFromUrl = useRef(<span style="color:#fb660a;font-weight:bold">false</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>useEffect(() =&gt; {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">if</span> (sync) {
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">const</span> subscription = watch(values =&gt; {
</span></span><span style="display:flex;"><span>      <span style="color:#fb660a;font-weight:bold">if</span> (isUpdatingFromUrl.current) {
</span></span><span style="display:flex;"><span>        <span style="color:#fb660a;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>      updateUrl(values <span style="color:#fb660a;font-weight:bold">as</span> T);
</span></span><span style="display:flex;"><span>    });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#fb660a;font-weight:bold">return</span> () =&gt; subscription.unsubscribe();
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}, [watch, updateUrl, sync]);
</span></span></code></pre></div><p><code>useRef</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ URL ì—…ë°ì´íŠ¸ë¡œ ì¸í•œ í¼ ë³€ê²½ê³¼ í¼ ë³€ê²½ìœ¼ë¡œ ì¸í•œ URL ì—…ë°ì´íŠ¸ë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ ë¬´í•œ ë£¨í”„ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.</p>
<h3 id="5-ê¹Šì€-ë¹„êµ-deepequal">5. ê¹Šì€ ë¹„êµ (<code>deepEqual</code>)</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> deepEqual(obj1: <span style="color:#cdcaa9;font-weight:bold">AliasAny</span>, obj2: <span style="color:#cdcaa9;font-weight:bold">AliasAny</span>): <span style="color:#fb660a;font-weight:bold">boolean</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> JSON.stringify(obj1) === JSON.stringify(obj2);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ê°ì²´ì˜ ê¹Šì€ ë¹„êµë¥¼ í†µí•´ ì‹¤ì œë¡œ ê°’ì´ ë³€ê²½ë˜ì—ˆì„ ë•Œë§Œ í¼ì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„ ë°©ì§€í•©ë‹ˆë‹¤.</p>
<h2 id="ì‹¤ì œ-í™œìš©-ì˜ˆì‹œ">ì‹¤ì œ í™œìš© ì˜ˆì‹œ</h2>
<h3 id="ê²€ìƒ‰-í•„í„°-í˜ì´ì§€">ê²€ìƒ‰ í•„í„° í˜ì´ì§€</h3>
<div class="highlight"><pre tabindex="0" style="color:#fff;background-color:#111;-moz-tab-size:2;-o-tab-size:2;tab-size:2;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">type</span> SearchFilters = {
</span></span><span style="display:flex;"><span>  query: <span style="color:#cdcaa9;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  category: <span style="color:#cdcaa9;font-weight:bold">string</span>;
</span></span><span style="display:flex;"><span>  sortBy: <span style="color:#0086d2">&#39;price&#39;</span> | <span style="color:#0086d2">&#39;name&#39;</span> | <span style="color:#0086d2">&#39;date&#39;</span>;
</span></span><span style="display:flex;"><span>  priceRange: [<span style="color:#cdcaa9;font-weight:bold">number</span>, <span style="color:#cdcaa9;font-weight:bold">number</span>];
</span></span><span style="display:flex;"><span>  isAvailable: <span style="color:#cdcaa9;font-weight:bold">boolean</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#fb660a;font-weight:bold">function</span> SearchPage() {
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> form = useFormUrlSync&lt;<span style="color:#fb660a;font-weight:bold">SearchFilters</span>&gt;({
</span></span><span style="display:flex;"><span>    defaultValues: {
</span></span><span style="display:flex;"><span>      query: <span style="color:#0086d2">&#39;&#39;</span>,
</span></span><span style="display:flex;"><span>      category: <span style="color:#0086d2">&#39;&#39;</span>,
</span></span><span style="display:flex;"><span>      sortBy: <span style="color:#0086d2">&#39;name&#39;</span>,
</span></span><span style="display:flex;"><span>      priceRange: [<span style="color:#0086f7;font-weight:bold">0</span>, <span style="color:#0086f7;font-weight:bold">1000</span>],
</span></span><span style="display:flex;"><span>      isAvailable: <span style="color:#cdcaa9;font-weight:bold">false</span>,
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    excludeFromUrl: [<span style="color:#0086d2">&#39;priceRange&#39;</span>], <span style="color:#080;background-color:#0f140f;font-style:italic">// ë³µì¡í•œ ê°ì²´ëŠ” URLì—ì„œ ì œì™¸
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> { register, watch } = form;
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">const</span> filters = watch();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#080;background-color:#0f140f;font-style:italic">// í•„í„° ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ URL ì—…ë°ì´íŠ¸ë˜ê³ 
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span>  <span style="color:#080;background-color:#0f140f;font-style:italic">// ê²€ìƒ‰ ê²°ê³¼ë„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë¨
</span></span></span><span style="display:flex;"><span><span style="color:#080;background-color:#0f140f;font-style:italic"></span>  <span style="color:#fb660a;font-weight:bold">const</span> { data: <span style="color:#cdcaa9;font-weight:bold">products</span> } = useQuery({
</span></span><span style="display:flex;"><span>    queryKey: [<span style="color:#0086d2">&#39;products&#39;</span>, filters],
</span></span><span style="display:flex;"><span>    queryFn: () =&gt; fetchProducts(filters),
</span></span><span style="display:flex;"><span>  });
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#fb660a;font-weight:bold">return</span> (
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#fb660a;font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">form</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">input</span>
</span></span><span style="display:flex;"><span>          {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">query</span>&#39;)}
</span></span><span style="display:flex;"><span>          <span style="color:#ff0086;font-weight:bold">placeholder</span>=<span style="color:#0086d2">&#34;ê²€ìƒ‰ì–´ ì…ë ¥&#34;</span>
</span></span><span style="display:flex;"><span>        /&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">select</span> {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">category</span>&#39;)}&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;&#34;</span>&gt;ì „ì²´&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;electronics&#34;</span>&gt;ì „ìì œí’ˆ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;books&#34;</span>&gt;ë„ì„œ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#fb660a;font-weight:bold">select</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">select</span> {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">sortBy</span>&#39;)}&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;name&#34;</span>&gt;ì´ë¦„ìˆœ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;price&#34;</span>&gt;ê°€ê²©ìˆœ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">option</span> <span style="color:#ff0086;font-weight:bold">value</span>=<span style="color:#0086d2">&#34;date&#34;</span>&gt;ë‚ ì§œìˆœ&lt;/<span style="color:#fb660a;font-weight:bold">option</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#fb660a;font-weight:bold">select</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#fb660a;font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>          &lt;<span style="color:#fb660a;font-weight:bold">input</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ff0086;font-weight:bold">type</span>=<span style="color:#0086d2">&#34;checkbox&#34;</span>
</span></span><span style="display:flex;"><span>            {<span style="color:#ff0086;font-weight:bold">...register</span>(&#39;<span style="color:#ff0086;font-weight:bold">isAvailable</span>&#39;)}
</span></span><span style="display:flex;"><span>          /&gt;
</span></span><span style="display:flex;"><span>          êµ¬ë§¤ ê°€ëŠ¥í•œ ìƒí’ˆë§Œ
</span></span><span style="display:flex;"><span>        &lt;/<span style="color:#fb660a;font-weight:bold">label</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#fb660a;font-weight:bold">form</span>&gt;
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#fb660a;font-weight:bold">ProductList</span> <span style="color:#ff0086;font-weight:bold">products</span>={products} /&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#fb660a;font-weight:bold">div</span>&gt;
</span></span><span style="display:flex;"><span>  );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="ì£¼ì˜ì‚¬í•­-ë°-í•œê³„">ì£¼ì˜ì‚¬í•­ ë° í•œê³„</h2>
<h3 id="1-nextjs-í´ë¼ì´ì–¸íŠ¸-ì»´í¬ë„ŒíŠ¸-ì „ìš©">1. Next.js í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì „ìš©</h3>
<p>ì´ í›…ì€ Next.jsì˜ <code>useRouter</code>ì™€ <code>useSearchParams</code>ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ:</p>
<ul>
<li>í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤</li>
<li>ì»´í¬ë„ŒíŠ¸ ìƒë‹¨ì— <code>&quot;use client&quot;</code> ì§€ì‹œì–´ê°€ í•„ìš”í•©ë‹ˆë‹¤</li>
</ul>
<h3 id="2-ë³µì¡í•œ-ê°ì²´-íƒ€ì…-ì œí•œ">2. ë³µì¡í•œ ê°ì²´ íƒ€ì… ì œí•œ</h3>
<p>URL íŒŒë¼ë¯¸í„°ì˜ íŠ¹ì„±ìƒ ë³µì¡í•œ ê°ì²´ë‚˜ ë°°ì—´ì€ ì§ì ‘ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° <code>excludeFromUrl</code> ì˜µì…˜ì„ ì‚¬ìš©í•˜ê±°ë‚˜ ë³„ë„ì˜ ì§ë ¬í™” ë¡œì§ì„ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.</p>
<h3 id="3-íˆìŠ¤í† ë¦¬-ê´€ë¦¬">3. íˆìŠ¤í† ë¦¬ ê´€ë¦¬</h3>
<p>ê¸°ë³¸ì ìœ¼ë¡œ <code>replace: true</code>ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ë’¤ë¡œ ê°€ê¸° ë²„íŠ¼ìœ¼ë¡œ í•„í„° ë³€ê²½ ì´ë ¥ì„ íƒìƒ‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•„ìš”ì— ë”°ë¼ <code>replace: false</code>ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<h3 id="4-ì„±ëŠ¥-ê³ ë ¤ì‚¬í•­">4. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­</h3>
<p>ì‹¤ì‹œê°„ ë™ê¸°í™”ê°€ í™œì„±í™”ë˜ì–´ ìˆìœ¼ë©´ ëª¨ë“  í¼ ë³€ê²½ì´ URL ì—…ë°ì´íŠ¸ë¥¼ íŠ¸ë¦¬ê±°í•©ë‹ˆë‹¤. ì„±ëŠ¥ì´ ì¤‘ìš”í•œ ê²½ìš° <code>sync: false</code>ë¡œ ì„¤ì •í•˜ê³  ìˆ˜ë™ìœ¼ë¡œ ë™ê¸°í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤í•´ë³´ì„¸ìš”.</p>
<h2 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</h2>
<p><code>useFormUrlSync</code> í›…ì€ React Hook Formê³¼ URL ìƒíƒœë¥¼ ê°„í¸í•˜ê²Œ ë™ê¸°í™”í•  ìˆ˜ ìˆëŠ” ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤. íŠ¹íˆ ê²€ìƒ‰ì´ë‚˜ í•„í„° ê¸°ëŠ¥ì´ ìˆëŠ” í˜ì´ì§€ì—ì„œ ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
<p>ì£¼ìš” ì¥ì :</p>
<ul>
<li><strong>ê³µìœ  ê°€ëŠ¥í•œ URL</strong>: ì‚¬ìš©ìê°€ ì„¤ì •í•œ í•„í„° ìƒíƒœë¥¼ URLë¡œ ê³µìœ  ê°€ëŠ¥</li>
<li><strong>ìƒˆë¡œê³ ì¹¨ ì•ˆì •ì„±</strong>: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ì—ë„ ì„¤ì • ìœ ì§€</li>
<li><strong>íƒ€ì… ì•ˆì „ì„±</strong>: TypeScriptë¥¼ í†µí•œ ì™„ì „í•œ íƒ€ì… ì§€ì›</li>
<li><strong>ìœ ì—°í•œ ì„¤ì •</strong>: ë‹¤ì–‘í•œ ì˜µì…˜ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ì— ë§ê²Œ ì¡°ì • ê°€ëŠ¥</li>
</ul>
<p>ì´ í›…ì„ í™œìš©í•˜ì—¬ ë” ë‚˜ì€ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>

</section>
<time>
  <i class="far fa-clock"></i>
  2025ë…„ 06ì›” 13ì¼ 21ì‹œ 00ë¶„
</time>
  
<div class="post-comment">
  <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gyuha-blog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>


<hr class="summary-sep" />
<div class="recommend-articles">
  <h3>
    ì¶”ì²œ ê¸€
  </h3>
  <ul>
    
    <li>
      <a href="https://gyuha.com/post/2025/2025-05-06-obsidian-editor-width/" rel="prev">
        <span>ì˜µì‹œë””ì–¸ì—ì„œ í¸ì§‘ì°½ í­ ë„“íˆê¸°</span>
      </a>
    </li>
     
    <li>
      <a href="https://gyuha.com/post/2025/2025-06-13-react-hook-form-sync-with-url/" rel="next">
        <span>Next.jsì—ì„œ react-hook-formê³¼ URLì„ ìš°ì•„í•˜ê²Œ ë™ê¸°í™”í•˜ëŠ” ë²• ğŸš€</span>
      </a>
    </li>
    
  </ul>
</div>
 
        </div>

        <div id="sidebar" class="col-12 col-md-8 col-lg-4">
          <div class="post-sidebar-area">
<div id="post-toc" class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-list"></i>
    ëª©ì°¨
  </div>
  <div class="widget-content">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#ì „ì²´-ì†ŒìŠ¤-ì½”ë“œ">ì „ì²´ ì†ŒìŠ¤ ì½”ë“œ</a></li>
    <li><a href="#ì£¼ìš”-ê¸°ëŠ¥">ì£¼ìš” ê¸°ëŠ¥</a>
      <ul>
        <li><a href="#1-ì–‘ë°©í–¥-ë™ê¸°í™”">1. ì–‘ë°©í–¥ ë™ê¸°í™”</a></li>
        <li><a href="#2-íƒ€ì…-ì•ˆì „ì„±">2. íƒ€ì… ì•ˆì „ì„±</a></li>
        <li><a href="#3-ì„ íƒì -í•„ë“œ-ì œì™¸">3. ì„ íƒì  í•„ë“œ ì œì™¸</a></li>
        <li><a href="#4-ì‹¤ì‹œê°„-ë™ê¸°í™”-ì œì–´">4. ì‹¤ì‹œê°„ ë™ê¸°í™” ì œì–´</a></li>
      </ul>
    </li>
    <li><a href="#ì‚¬ìš©-ë°©ë²•">ì‚¬ìš© ë°©ë²•</a>
      <ul>
        <li><a href="#ê¸°ë³¸-ì‚¬ìš©ë²•">ê¸°ë³¸ ì‚¬ìš©ë²•</a></li>
        <li><a href="#ì˜µì…˜-ìƒì„¸-ì„¤ëª…">ì˜µì…˜ ìƒì„¸ ì„¤ëª…</a></li>
      </ul>
    </li>
    <li><a href="#êµ¬í˜„-ìƒì„¸-ì„¤ëª…">êµ¬í˜„ ìƒì„¸ ì„¤ëª…</a>
      <ul>
        <li><a href="#1-url-ê°’-íŒŒì‹±-parseurlvalue">1. URL ê°’ íŒŒì‹± (<code>parseUrlValue</code>)</a></li>
        <li><a href="#2-ì´ˆê¸°ê°’-ì¶”ì¶œ-extractinitialvaluesfromurl">2. ì´ˆê¸°ê°’ ì¶”ì¶œ (<code>extractInitialValuesFromUrl</code>)</a></li>
        <li><a href="#3-url-íŒŒë¼ë¯¸í„°-ìƒì„±-createurlparamsfromvalues">3. URL íŒŒë¼ë¯¸í„° ìƒì„± (<code>createUrlParamsFromValues</code>)</a></li>
        <li><a href="#4-ë¬´í•œ-ë£¨í”„-ë°©ì§€">4. ë¬´í•œ ë£¨í”„ ë°©ì§€</a></li>
        <li><a href="#5-ê¹Šì€-ë¹„êµ-deepequal">5. ê¹Šì€ ë¹„êµ (<code>deepEqual</code>)</a></li>
      </ul>
    </li>
    <li><a href="#ì‹¤ì œ-í™œìš©-ì˜ˆì‹œ">ì‹¤ì œ í™œìš© ì˜ˆì‹œ</a>
      <ul>
        <li><a href="#ê²€ìƒ‰-í•„í„°-í˜ì´ì§€">ê²€ìƒ‰ í•„í„° í˜ì´ì§€</a></li>
      </ul>
    </li>
    <li><a href="#ì£¼ì˜ì‚¬í•­-ë°-í•œê³„">ì£¼ì˜ì‚¬í•­ ë° í•œê³„</a>
      <ul>
        <li><a href="#1-nextjs-í´ë¼ì´ì–¸íŠ¸-ì»´í¬ë„ŒíŠ¸-ì „ìš©">1. Next.js í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ ì „ìš©</a></li>
        <li><a href="#2-ë³µì¡í•œ-ê°ì²´-íƒ€ì…-ì œí•œ">2. ë³µì¡í•œ ê°ì²´ íƒ€ì… ì œí•œ</a></li>
        <li><a href="#3-íˆìŠ¤í† ë¦¬-ê´€ë¦¬">3. íˆìŠ¤í† ë¦¬ ê´€ë¦¬</a></li>
        <li><a href="#4-ì„±ëŠ¥-ê³ ë ¤ì‚¬í•­">4. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­</a></li>
      </ul>
    </li>
    <li><a href="#ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</a></li>
  </ul>
</nav>
  </div>
</div>
<div class="sidebar-widget-area">
  <div class="title">
    <i class="fa fa-tag"></i>
    íƒœê·¸
  </div>
  <div class="widget-content">
     
    <a href="https://gyuha.com/tags/next.js" class="badge badge-secondary">next.js</a>
    <a href="https://gyuha.com/tags/react-hook-form" class="badge badge-secondary">react-hook-form</a>
    <a href="https://gyuha.com/tags/typescript" class="badge badge-secondary">typescript</a>
  </div>
</div>

          </div>
        </div>
      </div>
    </div>
<footer class="footer-area">
  <div class="container">
    <div class="row">
      <div class="col-12 col-md-4">
        <div class="footer-single-widget">
          <div class="copywrite-text mt-30">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved
            </p>
            <p>Made with by Gyuha</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</footer>


<script src="/vendor/jquery-2.2.4.min.js"></script>
<script src="/vendor/bootstrap/popper.min.js"></script>
<script src="/vendor/bootstrap/bootstrap.min.js"></script>
<script src="/vendor/native-console.js"></script>
<script src="/vendor/jquery.easing.1.3.js"></script>
<script src="/vendor/jquery.scrollUp.min.js"></script>


<script src="/js/active.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>

<script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
<script>
  $(function () {
    if (window.VANTA) window.VANTA.NET({
      el: '#waves',
      mouseControls: true,
      touchControls: true,
      gyroControls: false,
      minHeight: 200.00,
      minWidth: 200.00,
      scale: 1.00,
      scaleMobile: 1.00,
      color: 0x3fa4ff
    })
  })
  document.addEventListener('DOMContentLoaded', function () {
    const toc = document.querySelector('#TableOfContents');
    const content = document.querySelector('.post-content');
    const headers = content.querySelectorAll('h1, h2, h3, h4, h5, h6');

    
    toc.querySelectorAll('a').forEach(link => {
      link.classList.add('toc-item');
    });

    
    headers.forEach((header, index) => {
      if (!header.id) {
        header.id = `section-${index}`;
      }
    });

    
    function highlightTocItem() {
      const scrollPosition = window.scrollY;
      const tocItems = toc.querySelectorAll('.toc-item');

      
      let activeIndex = -1;
      for (let i = 0; i < headers.length; i++) {
        if (headers[i].getBoundingClientRect().top >= 0) {
          activeIndex = i;
          break;
        }
      }

      
      tocItems.forEach(item => item.classList.remove('active'));

      
      if (activeIndex !== -1) {
        const activeHeader = headers[activeIndex];
        const activeLink = toc.querySelector(`a[href="#${activeHeader.id}"]`);
        if (activeLink) {
          activeLink.classList.add('active');
        }
      } else if (scrollPosition + window.innerHeight >= document.documentElement.scrollHeight) {
        
        tocItems[tocItems.length - 1].classList.add('active');
      }
    }

    window.addEventListener('scroll', highlightTocItem);
    highlightTocItem(); 
  });  
</script>




<script async src="https://www.googletagmanager.com/gtag/js?id=G-3XN21838ZJ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "G-3XN21838ZJ");
</script>
 
</body>
</html>
